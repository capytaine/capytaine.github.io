<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Changelog &#8212; capytaine 3.0.dev documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <link rel="stylesheet" type="text/css" href="_static/proof.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <script src="_static/documentation_options.js?v=b5a2bfa9"></script>
    <script src="_static/doctools.js?v=fd6eb6e6"></script>
    <script src="_static/sphinx_highlight.js?v=6ffebe34"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@4/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Citing" href="citing.html" />
    <script defer data-domain="capytaine.github.io" src="https://plausible.io/js/script.js"></script>
    <link rel="stylesheet" href="_static/custom.css" type="text/css" />
    
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  


  </head><body>
  

    <div class="document">
<div id="new-doc-warning-banner" style="width:100%; background-color:#ADD8E6; text-align: center;">This page is part of the documentation of the development version 3.0 of Capytaine.<br><a href="https://capytaine.github.io/stable/">Latest stable version is available here.</a></div>
    
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="changelog">
<h1>Changelog<a class="headerlink" href="#changelog" title="Link to this heading">¶</a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#new-in-version-3-0-2026" id="id45">New in version 3.0 (2026-??-??)</a></p></li>
<li><p><a class="reference internal" href="#new-in-version-2-3-1-2025-10-14" id="id46">New in version 2.3.1 (2025-10-14)</a></p></li>
<li><p><a class="reference internal" href="#new-in-version-2-3-2025-07-17" id="id47">New in version 2.3 (2025-07-17)</a></p></li>
<li><p><a class="reference internal" href="#new-in-version-2-2-1-2024-11-18" id="id48">New in version 2.2.1 (2024-11-18)</a></p></li>
<li><p><a class="reference internal" href="#new-in-version-2-2-2024-07-08" id="id49">New in version 2.2 (2024-07-08)</a></p></li>
<li><p><a class="reference internal" href="#new-in-version-2-1-2024-04-08" id="id50">New in version 2.1 (2024-04-08)</a></p></li>
<li><p><a class="reference internal" href="#new-in-version-2-0-2023-06-21" id="id51">New in version 2.0 (2023-06-21)</a></p></li>
<li><p><a class="reference internal" href="#new-in-version-1-5-2022-12-13" id="id52">New in version 1.5 (2022-12-13)</a></p></li>
<li><p><a class="reference internal" href="#new-in-version-1-4-2-2022-10-03" id="id53">New in version 1.4.2 (2022-10-03)</a></p></li>
<li><p><a class="reference internal" href="#new-in-version-1-4-1-2022-09-05" id="id54">New in version 1.4.1 (2022-09-05)</a></p></li>
<li><p><a class="reference internal" href="#new-in-version-1-4-2022-07-07" id="id55">New in version 1.4 (2022-07-07)</a></p></li>
<li><p><a class="reference internal" href="#new-in-version-1-3-2021-10-07" id="id56">New in version 1.3 (2021-10-07)</a></p></li>
<li><p><a class="reference internal" href="#new-in-version-1-2-1-2021-04-14" id="id57">New in version 1.2.1 (2021-04-14)</a></p></li>
<li><p><a class="reference internal" href="#new-in-version-1-2-2020-04-24" id="id58">New in version 1.2 (2020-04-24)</a></p></li>
<li><p><a class="reference internal" href="#new-in-version-1-1-2019-09-24" id="id59">New in version 1.1 (2019-09-24)</a></p></li>
<li><p><a class="reference internal" href="#new-in-version-1-0-1-2019-03-28" id="id60">New in version 1.0.1 (2019-03-28)</a></p></li>
<li><p><a class="reference internal" href="#new-in-version-1-0-2019-03-14" id="id61">New in version 1.0 (2019-03-14)</a></p></li>
<li><p><a class="reference internal" href="#new-in-version-0-6-2019-02-11" id="id62">New in version 0.6 (2019-02-11)</a></p></li>
<li><p><a class="reference internal" href="#new-in-version-0-5-1-2018-10-17" id="id63">New in version 0.5.1 (2018-10-17)</a></p></li>
<li><p><a class="reference internal" href="#new-in-version-0-5-2018-09-18" id="id64">New in version 0.5 (2018-09-18)</a></p></li>
<li><p><a class="reference internal" href="#new-in-version-0-4-2018-08-04" id="id65">New in version 0.4 (2018-08-04)</a></p></li>
</ul>
</nav>
<section id="new-in-version-3-0-2026">
<h2>New in version 3.0 (2026-??-??)<a class="headerlink" href="#new-in-version-3-0-2026" title="Link to this heading">¶</a></h2>
<section id="major-changes">
<h3>Major changes<a class="headerlink" href="#major-changes" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Add <a class="reference internal" href="developer_manual/api/capytaine.bodies.multibodies.html#capytaine.bodies.multibodies.Multibody" title="capytaine.bodies.multibodies.Multibody"><code class="xref py py-class docutils literal notranslate"><span class="pre">Multibody</span></code></a> meant to represent a
multibody system. For hydrodynamics, this is equivalent to the previous
behavior of coalescing bodies together. For hydrostatics, the new class
is slightly more powerful, for instance by being able to keep track of
several center of buoyancy and center of mass. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/822">PR 822</a>)</p>
<p>Joining bodies with <a class="reference internal" href="developer_manual/api/capytaine.bodies.bodies.html#capytaine.bodies.bodies.FloatingBody.join_bodies" title="capytaine.bodies.bodies.FloatingBody.join_bodies"><code class="xref py py-meth docutils literal notranslate"><span class="pre">join_bodies()</span></code></a>
or <code class="docutils literal notranslate"><span class="pre">+</span></code> now creates a <a class="reference internal" href="developer_manual/api/capytaine.bodies.multibodies.html#capytaine.bodies.multibodies.Multibody" title="capytaine.bodies.multibodies.Multibody"><code class="xref py py-class docutils literal notranslate"><span class="pre">Multibody</span></code></a> instance. It can be converted back to a
<a class="reference internal" href="developer_manual/api/capytaine.bodies.bodies.html#capytaine.bodies.bodies.FloatingBody" title="capytaine.bodies.bodies.FloatingBody"><code class="xref py py-class docutils literal notranslate"><span class="pre">FloatingBody</span></code></a> instance with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">both</span> <span class="o">=</span> <span class="n">body_1</span> <span class="o">+</span> <span class="n">body_2</span>  <span class="c1"># `both` is now a Multibody</span>
<span class="n">both</span> <span class="o">=</span> <span class="p">(</span><span class="n">body_1</span> <span class="o">+</span> <span class="n">body_2</span><span class="p">)</span><span class="o">.</span><span class="n">as_FloatingBody</span><span class="p">()</span>  <span class="c1"># Recover former behavior of joining FloatingBody with a FloatingBody</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="minor-changes">
<h3>Minor changes<a class="headerlink" href="#minor-changes" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Add option <code class="code docutils literal notranslate"><span class="pre">'lu_decomposition_with_overwrite'</span></code> for the <code class="code docutils literal notranslate"><span class="pre">linear_solver</span></code> of <a class="reference internal" href="developer_manual/api/capytaine.bem.engines.html#capytaine.bem.engines.BasicMatrixEngine" title="capytaine.bem.engines.BasicMatrixEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">BasicMatrixEngine</span></code></a>, which reduces the RAM usage of the solver (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/775">PR 775</a>).</p></li>
<li><p>Velocity in the fluid can be post-processed in the limit frequencies (<span class="math notranslate nohighlight">\(\omega = 0\)</span> or <span class="math notranslate nohighlight">\(\omega = \infty\)</span>). Divide it by <span class="math notranslate nohighlight">\(\omega\)</span> to have a finite value (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/777">PR 777</a>).</p></li>
<li><p>Display in the log the RAM usage estimation before a batch resolution and the measured RAM usage at the end of the resolution (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/784">PR 784</a>)</p></li>
<li><p><strong>Breaking</strong> When building the dataset in <code class="xref py py-meth docutils literal notranslate"><span class="pre">fill_dataset()</span></code>, the previous <code class="docutils literal notranslate"><span class="pre">kochin</span></code> attribute has been renamed to <code class="docutils literal notranslate"><span class="pre">kochin_radiation</span></code>
to be consistent with the existing <code class="docutils literal notranslate"><span class="pre">kochin_diffraction</span></code> attribute.</p></li>
<li><p><strong>Breaking</strong> Remove the geometric body classes <code class="docutils literal notranslate"><span class="pre">cpt.Sphere()</span></code>,
<code class="docutils literal notranslate"><span class="pre">cpt.VerticalCylinder()</span></code>, <code class="docutils literal notranslate"><span class="pre">cpt.HorizontalCylinder()</span></code>, <code class="docutils literal notranslate"><span class="pre">cpt.Disk()</span></code>,
<code class="docutils literal notranslate"><span class="pre">cpt.Rectangle()</span></code>, <code class="docutils literal notranslate"><span class="pre">cpt.RectangularParallelepiped()</span></code>, that were marked as
deprecated since version 2.0. Consider using instead:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cpt</span><span class="o">.</span><span class="n">FloatingBody</span><span class="p">(</span><span class="n">mesh</span><span class="o">=</span><span class="n">cpt</span><span class="o">.</span><span class="n">mesh_sphere</span><span class="p">(</span><span class="o">...</span><span class="p">),</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>or something equivalent, separating the geometric mesh generation from the
floating body definition.</p>
</li>
</ul>
</section>
<section id="bug-fixes">
<h3>Bug fixes<a class="headerlink" href="#bug-fixes" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fix type of the right-hand-side of the linear solver when using option <code class="code docutils literal notranslate"><span class="pre">floating_point_precision</span> <span class="pre">=</span> <span class="pre">'float32'</span></code> in <a class="reference internal" href="developer_manual/api/capytaine.green_functions.delhommeau.html#capytaine.green_functions.delhommeau.Delhommeau" title="capytaine.green_functions.delhommeau.Delhommeau"><code class="xref py py-class docutils literal notranslate"><span class="pre">Delhommeau</span></code></a>.
As a consequence, the whole computation is done in single precision and the RAM usage is lower as expected. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/774">PR 774</a>)</p></li>
<li><p>Fix the timer for parallel resolution, i.e. when <code class="code docutils literal notranslate"><span class="pre">n_jobs</span></code> is greater than 1. Now the durations for each process are displayed. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/782">PR 782</a>)</p></li>
<li><p>Hydrostatics methods better take into account the free surface even when
the mesh has not been clipped yet.
Internally, the mesh is clipped before computing methods such as
<code class="xref py py-meth docutils literal notranslate"><span class="pre">disp_volume()</span></code> or
<code class="xref py py-meth docutils literal notranslate"><span class="pre">center_of_buoyancy()</span></code>, such that the
computed displaced volume is always actually the volume below $z=0$ and the
center of buoyancy is always below the free surface.
The inertia matrix always uses the displaced water mass for the mass and
compute the inertia moments on the full shape if the full mesh is provided.
(<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/794">PR 794</a>)</p></li>
<li><p>Fix the frequency type in the dimensions of the dataset returned by <code class="xref py py-meth docutils literal notranslate"><span class="pre">kochin_data_array()</span></code>. Previously, the dimension was always named <code class="docutils literal notranslate"><span class="pre">omega</span></code>;
it is now named <code class="docutils literal notranslate"><span class="pre">omega</span></code>, <code class="docutils literal notranslate"><span class="pre">freq</span></code>, <code class="docutils literal notranslate"><span class="pre">period</span></code>,  <code class="docutils literal notranslate"><span class="pre">wavenumber</span></code> or <code class="docutils literal notranslate"><span class="pre">wavelength</span></code> depending on the user settings.</p></li>
</ul>
</section>
<section id="internals">
<h3>Internals<a class="headerlink" href="#internals" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><strong>Breaking</strong> The <code class="docutils literal notranslate"><span class="pre">green_function</span></code> is not an attribute of the <a class="reference internal" href="developer_manual/api/capytaine.bem.solver.html#capytaine.bem.solver.BEMSolver" title="capytaine.bem.solver.BEMSolver"><code class="xref py py-class docutils literal notranslate"><span class="pre">BEMSolver</span></code></a> anymore, but of the engine.
The motivation is that not all engines can be made compatible with all Green function implementations (although the builtins one are).
The possibility to call <code class="docutils literal notranslate"><span class="pre">BEMSolver(green_function=...)</span></code> is kept as a convenient shortcut to <code class="docutils literal notranslate"><span class="pre">BEMSolver(engine=BasicMatrixEngine(green_function=...))</span></code>.
Calls to <code class="docutils literal notranslate"><span class="pre">BEMSolver(green_function=...,</span> <span class="pre">engine=...)</span></code> now raise an error. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/752">PR 752</a>)
Post-processing new requires the implementation of the methods <code class="docutils literal notranslate"><span class="pre">build_S_matrix</span></code> and <code class="docutils literal notranslate"><span class="pre">build_fullK_matrix</span></code> by the engine (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/753">PR 753</a>)</p></li>
<li><p>New implementation of the block symmetric matrices for mesh symmetry, now
used by <a class="reference internal" href="developer_manual/api/capytaine.bem.engines.html#capytaine.bem.engines.BasicMatrixEngine" title="capytaine.bem.engines.BasicMatrixEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">BasicMatrixEngine</span></code></a> (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/754">PR 754</a>).</p></li>
<li><p>Rafactor of the <a class="reference internal" href="developer_manual/api/capytaine.bem.engines.html#capytaine.bem.engines.BasicMatrixEngine" title="capytaine.bem.engines.BasicMatrixEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">BasicMatrixEngine</span></code></a> to make the
caching more straightforward and improve its interaction with LU
decomposition and symmetries. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/755">PR 755</a>)</p></li>
<li><p>The whole <code class="docutils literal notranslate"><span class="pre">matrices</span></code> module as well as the corresponding engines in
<code class="docutils literal notranslate"><span class="pre">bem/engines.py</span></code> and <code class="docutils literal notranslate"><span class="pre">tool/lru_caches.py</span></code> have been removed from
Capytaine. For compatibility, they will remain accessible from a separate
package. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/757">PR 757</a>, <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/765">PR 765</a>)</p></li>
<li><p>Instead of creating a <code class="docutils literal notranslate"><span class="pre">CollectionOfMeshes</span></code>, now <code class="docutils literal notranslate"><span class="pre">join_bodies</span></code> merges the
meshes of the bodies together. The legacy behavior is still available from
Fakeblocks <code class="docutils literal notranslate"><span class="pre">join_bodies</span></code>. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/779">PR 779</a>)</p></li>
<li><p>The new <code class="docutils literal notranslate"><span class="pre">Mesh</span></code> class has a <code class="docutils literal notranslate"><span class="pre">faces_metadata</span></code> attribute storing fields
defined on each faces of the mesh. When faces are added or removed, the
metadata are automatically updated accordingly. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/791">PR 791</a>)</p></li>
<li><p>Move hydrostatics routines in a dedicated module and rewrite corresponding tests (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/794">PR 794</a>)</p></li>
<li><p>Refactor the implementation of the timer to make it easier to include more steps (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/809">PR 809</a>)</p></li>
<li><p>Parameters <code class="docutils literal notranslate"><span class="pre">free_surface</span></code>, <code class="docutils literal notranslate"><span class="pre">water_depth</span></code> and <code class="docutils literal notranslate"><span class="pre">wavenumber</span></code> are always
keyword arguments in the engine and the Green function (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/812">PR 812</a>)</p></li>
<li><p><strong>Breaking</strong> <code class="xref py py-meth docutils literal notranslate"><span class="pre">add_rotation_dof()</span></code> takes
arguments called <code class="docutils literal notranslate"><span class="pre">rotation_center</span></code> and <code class="docutils literal notranslate"><span class="pre">direction</span></code> instead of an <code class="docutils literal notranslate"><span class="pre">Axis</span></code>
object. Also the geometric center is not used anymore as a fallback value for
<code class="docutils literal notranslate"><span class="pre">rotation_center</span></code>.</p></li>
</ul>
</section>
</section>
<section id="new-in-version-2-3-1-2025-10-14">
<h2>New in version 2.3.1 (2025-10-14)<a class="headerlink" href="#new-in-version-2-3-1-2025-10-14" title="Link to this heading">¶</a></h2>
<section id="bug-fix">
<h3>Bug fix<a class="headerlink" href="#bug-fix" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fix <strong>major bug of version 2.3</strong> where the resolution of problem with <strong>both mesh
symmetries and a lid</strong> for irregular frequencies removal returned wrong values.
(<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/761">GH 761</a>)</p></li>
<li><p>Fix issue where in-place transformation of a <code class="docutils literal notranslate"><span class="pre">FloatingBody</span></code> (such as
<code class="docutils literal notranslate"><span class="pre">body.keep_immersed_part()</span></code> or <code class="docutils literal notranslate"><span class="pre">body.translate(...)</span></code>) were sometimes not
taken into account. In-place transformation are not recommended and might be
removed in a future version, use the versions returning new objects as seen
in the documentation (e.g. <code class="docutils literal notranslate"><span class="pre">body.immersed_part()</span></code> and
<code class="docutils literal notranslate"><span class="pre">body.translated(...)</span></code>).</p></li>
<li><p>If loading the tabulation from the file fails, then the tabulation is
recomputed (<a class="reference external" href="https://github.com/capytaine/capytaine/issues/739#issuecomment-3190735343">Issue 739</a>)</p></li>
</ul>
</section>
<section id="id1">
<h3>Internals<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>The source code moved from <code class="docutils literal notranslate"><span class="pre">capytaine</span></code> to <code class="docutils literal notranslate"><span class="pre">src/capytaine</span></code> in the main
repository to avoid importing the local folder instead of the installed
version (<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/395">GH 395</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/749">PR 749</a>).</p></li>
<li><p>Replace development dependencies in <code class="docutils literal notranslate"><span class="pre">editable_install_requirements.txt</span></code> and
<code class="docutils literal notranslate"><span class="pre">[project.optional-dependencies]</span></code> with <code class="docutils literal notranslate"><span class="pre">[dependency-groups]</span></code>
(<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/750">PR 750</a>).</p></li>
</ul>
</section>
</section>
<section id="new-in-version-2-3-2025-07-17">
<h2>New in version 2.3 (2025-07-17)<a class="headerlink" href="#new-in-version-2-3-2025-07-17" title="Link to this heading">¶</a></h2>
<section id="major-change">
<h3>Major change<a class="headerlink" href="#major-change" title="Link to this heading">¶</a></h3>
<ul>
<li><p>The implementations of the <strong>Green function from HAMS</strong> are now included in Capytaine:</p>
<ul class="simple">
<li><p>The infinite depth version from [Liang, Wu, Noblesse, 2018] is <a class="reference internal" href="developer_manual/api/capytaine.green_functions.hams.html#capytaine.green_functions.hams.LiangWuNoblesseGF" title="capytaine.green_functions.hams.LiangWuNoblesseGF"><code class="xref py py-class docutils literal notranslate"><span class="pre">LiangWuNoblesseGF</span></code></a> (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/617">PR 617</a>),</p></li>
<li><p>The finite depth version from [Liu et al., 2018] is <a class="reference internal" href="developer_manual/api/capytaine.green_functions.hams.html#capytaine.green_functions.hams.FinGreen3D" title="capytaine.green_functions.hams.FinGreen3D"><code class="xref py py-class docutils literal notranslate"><span class="pre">FinGreen3D</span></code></a> (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/647">PR 647</a>),</p></li>
<li><p>The class <a class="reference internal" href="developer_manual/api/capytaine.green_functions.hams.html#capytaine.green_functions.hams.HAMS_GF" title="capytaine.green_functions.hams.HAMS_GF"><code class="xref py py-class docutils literal notranslate"><span class="pre">HAMS_GF</span></code></a> is a thin wrapper using one or the other method above depending of the water depth (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/658">PR 658</a>).</p></li>
</ul>
<p>They can be passed to Capytaine’s solver as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">solver</span> <span class="o">=</span> <span class="n">cpt</span><span class="o">.</span><span class="n">BEMSolver</span><span class="p">(</span><span class="n">green_function</span><span class="o">=</span><span class="n">cpt</span><span class="o">.</span><span class="n">HAMS_GF</span><span class="p">())</span>
</pre></div>
</div>
<p>Please cite the corresponding papers if you use them in a scientific publication (see the <a class="reference internal" href="citing.html"><span class="doc">Citing</span></a> page).</p>
</li>
<li><p>Revamp of default <strong>finite depth Green function</strong> implementation.</p>
<ul class="simple">
<li><p>The new implementation should better handle panels on or near the free surface and have the right asymptotic consistency with the infinite depth method when depth goes to infinity.
The legacy behavior of previous versions is still available by setting the parameter <code class="code docutils literal notranslate"><span class="pre">finite_depth_method</span></code> added to <a class="reference internal" href="developer_manual/api/capytaine.green_functions.delhommeau.html#capytaine.green_functions.delhommeau.Delhommeau" title="capytaine.green_functions.delhommeau.Delhommeau"><code class="xref py py-class docutils literal notranslate"><span class="pre">Delhommeau</span></code></a> to <code class="code docutils literal notranslate"><span class="pre">finite_depth_method=&quot;legacy&quot;</span></code>, while the better behavior is used by default. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/654">PR 654</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/656">PR 656</a>)</p></li>
<li><p>The Prony decomposition is now done in Python and its failure (typically for <span class="math notranslate nohighlight">\(kh &lt; 0.1\)</span>) raises an error instead of returning wrong values.
This behavior is controlled by the <code class="code docutils literal notranslate"><span class="pre">finite_depth_prony_decomposition_method</span></code> parameter of <a class="reference internal" href="developer_manual/api/capytaine.green_functions.delhommeau.html#capytaine.green_functions.delhommeau.Delhommeau" title="capytaine.green_functions.delhommeau.Delhommeau"><code class="xref py py-class docutils literal notranslate"><span class="pre">Delhommeau</span></code></a>, which is now <code class="code docutils literal notranslate"><span class="pre">&quot;python&quot;</span></code> by default. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/675">PR 675</a>)</p></li>
<li><p>Infinite frequency is now supported in finite depth (zero frequency is still not and returns the same error as other finite depth low-frequency cases). (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/703">PR 703</a>)</p></li>
</ul>
</li>
<li><p>Do not interrupt a batch of resolutions when one of them fails.
Instead the exception is displayed in the log and the results are replaced by a <a class="reference internal" href="developer_manual/api/capytaine.bem.problems_and_results.html#capytaine.bem.problems_and_results.FailedDiffractionResult" title="capytaine.bem.problems_and_results.FailedDiffractionResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">FailedDiffractionResult</span></code></a> or <a class="reference internal" href="developer_manual/api/capytaine.bem.problems_and_results.html#capytaine.bem.problems_and_results.FailedRadiationResult" title="capytaine.bem.problems_and_results.FailedRadiationResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">FailedRadiationResult</span></code></a>. The output dataset is filled with a <code class="docutils literal notranslate"><span class="pre">NaN</span></code> value for these parameters. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/678">PR 678</a>)
Diffraction problems with zero or infinite frequencies used to have a special treatment to be run with a batch resolution despite raising an error when run alone, they have been reworked to use the same design as other failing resolutions. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/719">PR 719</a>)</p></li>
<li><p>The Boundary Integral Equation (<code class="docutils literal notranslate"><span class="pre">method</span></code> keyword argument) used to solve the problem can now be specified when initializing a solver and will then be use for all resolution with this solver. This general setting can be over overridden by using the <code class="docutils literal notranslate"><span class="pre">method</span></code> argument when solving:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">solver</span> <span class="o">=</span> <span class="n">cpt</span><span class="o">.</span><span class="n">BEMSolver</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&quot;direct&quot;</span><span class="p">)</span>  <span class="c1"># That is new and recommended</span>
<span class="n">solver</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">problem</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;direct&quot;</span><span class="p">)</span>  <span class="c1"># That is still possible and override the above setting.</span>
</pre></div>
</div>
</li>
</ul>
<p>The method is also saved in the metadata of the results with the other parameters of the solver (whether it was defined when initializing the solver or later). (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/686">PR 686</a>)</p>
<ul class="simple">
<li><p>Add <a class="reference internal" href="developer_manual/api/capytaine.io.xarray.html#capytaine.io.xarray.export_dataset" title="capytaine.io.xarray.export_dataset"><code class="xref py py-func docutils literal notranslate"><span class="pre">export_dataset()</span></code></a> method to more conveniently export a dataset to NetCDF or other formats (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/690">PR 690</a>).</p></li>
</ul>
</section>
<section id="minor-change">
<h3>Minor change<a class="headerlink" href="#minor-change" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Add optional <code class="code docutils literal notranslate"><span class="pre">freq</span></code> argument (frequency in Hz) for problem set up and output.</p></li>
<li><p>Add <a class="reference internal" href="developer_manual/api/capytaine.io.xarray.html#capytaine.io.xarray.assemble_dataframe" title="capytaine.io.xarray.assemble_dataframe"><code class="xref py py-func docutils literal notranslate"><span class="pre">assemble_dataframe()</span></code></a> which collect results into a Pandas DataFrame (this was already done internally in <a class="reference internal" href="developer_manual/api/capytaine.io.xarray.html#capytaine.io.xarray.assemble_dataset" title="capytaine.io.xarray.assemble_dataset"><code class="xref py py-func docutils literal notranslate"><span class="pre">assemble_dataset()</span></code></a>) (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/677">PR 677</a>).
Also add <a class="reference internal" href="developer_manual/api/capytaine.io.xarray.html#capytaine.io.xarray.assemble_matrices" title="capytaine.io.xarray.assemble_matrices"><code class="xref py py-func docutils literal notranslate"><span class="pre">assemble_matrices()</span></code></a> function which is a simplified version of <a class="reference internal" href="developer_manual/api/capytaine.io.xarray.html#capytaine.io.xarray.assemble_dataset" title="capytaine.io.xarray.assemble_dataset"><code class="xref py py-func docutils literal notranslate"><span class="pre">assemble_dataset()</span></code></a> without metadata, meant to be used mostly for teaching. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/643">PR 643</a>)</p></li>
<li><p>The environment variable <code class="docutils literal notranslate"><span class="pre">CAPYTAINE_PROGRESS_BAR</span></code> can be used to disable globally the display of a progress bar when solving problems. This is meant mostly for testing environments and CI. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/646">PR 646</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">timer</span></code> attribute to <a class="reference internal" href="developer_manual/api/capytaine.bem.solver.html#capytaine.bem.solver.BEMSolver" title="capytaine.bem.solver.BEMSolver"><code class="xref py py-class docutils literal notranslate"><span class="pre">BEMSolver</span></code></a> storing the time spent in each steps of the resolution. Summary can be accessed by <a class="reference internal" href="developer_manual/api/capytaine.bem.solver.html#capytaine.bem.solver.BEMSolver.timer_summary" title="capytaine.bem.solver.BEMSolver.timer_summary"><code class="xref py py-meth docutils literal notranslate"><span class="pre">timer_summary()</span></code></a>. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/674">PR 674</a>)</p></li>
<li><p>Add <a class="reference internal" href="developer_manual/api/capytaine.io.wamit.html#capytaine.io.wamit.export_to_wamit" title="capytaine.io.wamit.export_to_wamit"><code class="xref py py-func docutils literal notranslate"><span class="pre">export_to_wamit()</span></code></a> as a unified interface to export hydrodynamic results to WAMIT-compatible files. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/714">PR 714</a>)</p></li>
</ul>
</section>
<section id="id2">
<h3>Bug fixes<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Properly use <code class="docutils literal notranslate"><span class="pre">progress_bar</span></code> argument in <code class="xref py py-func docutils literal notranslate"><span class="pre">fill_dataset()</span></code> to disable progress bar.</p></li>
<li><p>Always remove degenerate faces after clipping (<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/620">GH 620</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/624">PR 624</a>).</p></li>
<li><p>Fix missing geometric center in legacy predefined body <code class="xref py py-class docutils literal notranslate"><span class="pre">ReflectionSymmetricMesh</span></code>. It was causing inconsistent definition of dofs with respect to earlier versions. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/625">PR 625</a>)</p></li>
<li><p>Fix Python implementation of the Prony decomposition for the finite depth Green function, which is now the default. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/621">PR 621</a>). Move some code of its code to the <a class="reference internal" href="developer_manual/api/capytaine.tools.prony_decomposition.html#module-capytaine.tools.prony_decomposition" title="capytaine.tools.prony_decomposition"><code class="xref py py-mod docutils literal notranslate"><span class="pre">prony_decomposition</span></code></a> module. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/649">PR 649</a>)</p></li>
<li><p>After joining several bodies, editing the mesh of one of the components does not affect the joined body anymore (<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/660">GH 660</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/662">PR 662</a>:).</p></li>
<li><p>Check the consistency of the dofs with the mesh and raises <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> when an inconsistency is detected (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/663">PR 663</a>).</p></li>
<li><p>Fix error when removing all the faces from a symmetric mesh (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/668">PR 668</a>)</p></li>
<li><p>Add safeguard if a custom linear solver returns a result vector of wrong shape (e.g. column instead of row) (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/670">PR 670</a>)</p></li>
<li><p>Fix loading BEMIO datasets from Nemoh (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/681">PR 681</a>)</p></li>
<li><p>Fix computing zero and infinite frequency radiation problems with a lid for irregular frequencies removal (<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/704">GH 704</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/708">PR 708</a>)</p></li>
<li><p>Fix solving <a class="reference internal" href="developer_manual/api/capytaine.bem.problems_and_results.html#capytaine.bem.problems_and_results.LinearPotentialFlowProblem" title="capytaine.bem.problems_and_results.LinearPotentialFlowProblem"><code class="xref py py-class docutils literal notranslate"><span class="pre">LinearPotentialFlowProblem</span></code></a> directly.</p></li>
<li><p>Fix missing variable attributes for main frequency variable (<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/702">GH 702</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/717">PR 717</a>)</p></li>
<li><p>Trying to generate a lid over a purely vertical mesh does not raise an error anymore (<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/625">GH 625</a>).</p></li>
<li><p>When the hull mesh and the lid mesh are both symmetric with the same reflection plane, the symmetry is not lost anymore when solving the BEM problem.
Also <code class="docutils literal notranslate"><span class="pre">generate_lid</span></code> and <code class="docutils literal notranslate"><span class="pre">extract_lid</span></code> should now work with reflection symmetric meshes without losing the symmetry. (<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/527">GH 527</a>, <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/667">PR 667</a>, <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/720">PR 720</a>).</p></li>
</ul>
</section>
<section id="id3">
<h3>Internals<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Major refactoring of the Fortran core, including its interface in Python:</p>
<ul>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">interface.f90</span></code> Fortran file to group some routines used only for wrapping the Fortran core. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/612">PR 612</a>)</p></li>
<li><p>Add <a class="reference internal" href="developer_manual/api/capytaine.green_functions.delhommeau.html#capytaine.green_functions.delhommeau.Delhommeau.all_tabulation_parameters" title="capytaine.green_functions.delhommeau.Delhommeau.all_tabulation_parameters"><code class="xref py py-meth docutils literal notranslate"><span class="pre">all_tabulation_parameters()</span></code></a> to make it easier to test Fortran core from Python (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/648">PR 648</a>)</p></li>
<li><p>Refactor implementation of Delhommeau’s finite depth Green function to compute all the frequency-independant Rankine terms at the same time (for future caching) (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/652">PR 652</a>)</p></li>
<li><p>The main interface to the Fortran core <code class="docutils literal notranslate"><span class="pre">build_matrices</span></code> does not take <code class="docutils literal notranslate"><span class="pre">coeffs</span></code> and <code class="docutils literal notranslate"><span class="pre">same_body</span></code> inputs anymore.
The role of the former is played by <code class="docutils literal notranslate"><span class="pre">gf_singularities</span></code> and <code class="docutils literal notranslate"><span class="pre">wavenumber</span></code>.
The diagonal term added by the latter is now added independently.
(<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/701">PR 701</a>)</p></li>
</ul>
</li>
<li><p>NaN values are not striped out of output data (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/676">PR 676</a>)</p></li>
<li><p>Define a <code class="xref py py-class docutils literal notranslate"><span class="pre">MeshLike</span></code> protocol that classes implementing a mesh should follow. Also ensure that <code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">CollectionOfMeshes</span></code> follow it. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/667">PR 667</a>)</p></li>
</ul>
</section>
</section>
<section id="new-in-version-2-2-1-2024-11-18">
<h2>New in version 2.2.1 (2024-11-18)<a class="headerlink" href="#new-in-version-2-2-1-2024-11-18" title="Link to this heading">¶</a></h2>
<section id="id4">
<h3>Minor change<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>More efficient implementation of the mesh connected-component clustering algorithm (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/603">PR 603</a>).</p></li>
</ul>
</section>
<section id="id5">
<h3>Bug fixes<a class="headerlink" href="#id5" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Lid meshes on the free surface do not cause errors when clipped.
Also empty lid meshes are properly handled when initializing or clipping a mesh
(<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/573">GH 573</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/575">PR 575</a>).</p></li>
<li><p>GDF meshes are accepted in the alternate format now.
Meshes files can list points in either 3×4 × <code class="docutils literal notranslate"><span class="pre">nb_faces</span></code> or a 12 × <code class="docutils literal notranslate"><span class="pre">nb_faces</span></code> format.
(<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/540">GH 540</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/585">PR 585</a>).</p></li>
<li><p>When filling a test matrix with both diffraction problems and radiation
problems, zero and infinite frequencies can now be provided. (Previously, the
computation was failing because these frequencies are not defined for
diffraction problems.) (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/587">PR 587</a>)</p></li>
<li><p>Radiation damping at infinite frequency is now zero instead of infinity.
When forward speed is non-zero, added mass and radiation dampings at zero encounter frequency are NaN.
(<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/588">PR 588</a>)</p></li>
<li><p>User does not need to import <code class="docutils literal notranslate"><span class="pre">pyplot</span></code> themself before running <code class="xref py py-meth docutils literal notranslate"><span class="pre">show_matplotlib()</span></code> (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/592">PR 592</a>)</p></li>
<li><p>Fixes usage of <code class="docutils literal notranslate"><span class="pre">ReflectionSymmetricMesh</span></code> with direct solver (<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/593">GH 593</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/594">PR 594</a>).</p></li>
<li><p>Do not recompute the same
<a class="reference internal" href="developer_manual/api/capytaine.bodies.bodies.html#capytaine.bodies.bodies.FloatingBody.first_irregular_frequency_estimate" title="capytaine.bodies.bodies.FloatingBody.first_irregular_frequency_estimate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">first_irregular_frequency_estimate()</span></code></a>
for the same body several times.
Also better expose the <code class="docutils literal notranslate"><span class="pre">_check_wavelength</span></code> option to skip wavelength check,
including irregular frequency estimation. (<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/601">GH 601</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/602">PR 602</a>).</p></li>
<li><p>Fix bug in the <span class="math notranslate nohighlight">\(r\)</span>-range of the tabulation of the Green function
(<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/538">GH 538</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/611">PR 611</a>).</p></li>
</ul>
</section>
</section>
<section id="new-in-version-2-2-2024-07-08">
<h2>New in version 2.2 (2024-07-08)<a class="headerlink" href="#new-in-version-2-2-2024-07-08" title="Link to this heading">¶</a></h2>
<section id="id6">
<h3>Major changes<a class="headerlink" href="#id6" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><strong>New feature: lid-based irregular frequencies removal</strong>.
Add <code class="docutils literal notranslate"><span class="pre">lid_mesh</span></code> argument to <a class="reference internal" href="developer_manual/api/capytaine.bodies.bodies.html#capytaine.bodies.bodies.FloatingBody" title="capytaine.bodies.bodies.FloatingBody"><code class="xref py py-class docutils literal notranslate"><span class="pre">FloatingBody</span></code></a>
for irregular frequencies removal (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/521">PR 521</a>).
Add <code class="xref py py-meth docutils literal notranslate"><span class="pre">generate_lid()</span></code> method to generate
lids (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/477">PR 477</a>) and <code class="xref py py-meth docutils literal notranslate"><span class="pre">extract_lid()</span></code>
method to extract lids from exernally defined meshes (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/559">PR 559</a>).
Add a warning to the user if irregular frequencies can be expected (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/564">PR 564</a>).</p></li>
<li><p>The compiled Fortran extension is not split into a <code class="docutils literal notranslate"><span class="pre">Delhommeau</span></code> and a <code class="docutils literal notranslate"><span class="pre">XieDelhommeau</span></code> version anymore.
The same effect is now achieved by the run-time parameter <code class="docutils literal notranslate"><span class="pre">gf_singularities</span></code> of the class <a class="reference internal" href="developer_manual/api/capytaine.green_functions.delhommeau.html#capytaine.green_functions.delhommeau.Delhommeau" title="capytaine.green_functions.delhommeau.Delhommeau"><code class="xref py py-class docutils literal notranslate"><span class="pre">Delhommeau</span></code></a> (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/475">PR 475</a>).
(The class <a class="reference internal" href="developer_manual/api/capytaine.green_functions.delhommeau.html#capytaine.green_functions.delhommeau.XieDelhommeau" title="capytaine.green_functions.delhommeau.XieDelhommeau"><code class="xref py py-class docutils literal notranslate"><span class="pre">XieDelhommeau</span></code></a> is kept for backward compatibility.).
The new default method in infinite depth is <code class="docutils literal notranslate"><span class="pre">gf_singularities=&quot;low_freq&quot;</span></code> (formerly <code class="docutils literal notranslate"><span class="pre">XieDelhommeau</span></code>) instead of <code class="docutils literal notranslate"><span class="pre">gf_singularities=&quot;high_freq&quot;</span></code>.
The new one is expected to be more accurate near the surface and at low frequency (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/566">PR 566</a>)
The finite depth Green function is always computed using the <code class="docutils literal notranslate"><span class="pre">low_freq</span></code> variant, so the <code class="docutils literal notranslate"><span class="pre">gf_singularities</span></code> parameter has no effect in finite depth. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/507">PR 507</a>).
The tabulation stores the data of both variants and is thus slightly longer to initialize and slightly larger to store in memory (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/543">PR 543</a>).</p></li>
<li><p>Experimental support for panels on the free surface, when using <code class="docutils literal notranslate"><span class="pre">gf_singularities=&quot;low_freq&quot;</span></code>.  (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/419">PR 419</a>)</p></li>
</ul>
</section>
<section id="id7">
<h3>Minor changes<a class="headerlink" href="#id7" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Remove mesh resolution warning when the frequency is infinite (or the wavelength is zero) (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/511">PR 511</a>).</p></li>
<li><p>When computing without a tabulation (<code class="docutils literal notranslate"><span class="pre">tabulation_nr=0</span></code> or <code class="docutils literal notranslate"><span class="pre">tabulation_nz=0</span></code>), the value of <code class="docutils literal notranslate"><span class="pre">tabulation_nb_integration_points</span></code> is actually used to compute Guével-Delhommeau exact formulation of the Green function. Previously, it was only used when precomputing a tabulation (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/514">PR 514</a>).</p></li>
<li><p>Add a new variant of the Green function integration <code class="docutils literal notranslate"><span class="pre">gf_singularities=&quot;low_freq_with_rankine_part&quot;</span></code> as an experimental more accurate version of the <code class="docutils literal notranslate"><span class="pre">low_freq</span></code> variant (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/510">PR 510</a>).</p></li>
<li><p>Add a <code class="docutils literal notranslate"><span class="pre">tabulation_cache_dir</span></code> parameter to <a class="reference internal" href="developer_manual/api/capytaine.green_functions.delhommeau.html#capytaine.green_functions.delhommeau.Delhommeau" title="capytaine.green_functions.delhommeau.Delhommeau"><code class="xref py py-class docutils literal notranslate"><span class="pre">Delhommeau</span></code></a> to choose the directory in which the tabulation is saved on disk. If <code class="docutils literal notranslate"><span class="pre">None</span></code> is provided instead, the tabulation is not saved on disk and is recomputed at each initialization of the class. Also, if this parameter is not set, look for the <code class="docutils literal notranslate"><span class="pre">CAPYTAINE_CACHE_DIR</span></code> environment variable and use it to save the tabulation if it exists. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/516">PR 516</a>).</p></li>
<li><p>Meshio objects can be directly passed to <code class="xref py py-func docutils literal notranslate"><span class="pre">load_mesh()</span></code> to get a Capytaine mesh (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/555">PR 555</a>).</p></li>
<li><p>Load gmsh v4 format .msh file using <code class="xref py py-func docutils literal notranslate"><span class="pre">load_mesh()</span></code> (when meshio is installed) (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/556">PR 556</a>)</p></li>
</ul>
</section>
<section id="id8">
<h3>Bug fixes<a class="headerlink" href="#id8" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Always use an odd number of points for integration with Simpson rule (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/515">PR 515</a>). This bug was partly responsible for some high-frequency inaccuracy (<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/298">GH 298</a>).</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">mesh_vertical_cylinder()</span></code> used to return only half of the mesh when called with <code class="docutils literal notranslate"><span class="pre">reflection_symmetry=True</span></code> (<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/529">GH 529</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/530">PR 530</a>).</p></li>
<li><p>Providing the frequency as a scalar coordinate in the test matrix does not result in the value being ignored anymore (<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/547">GH 547</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/548">PR 548</a>).</p></li>
<li><p>Improve exception message when giving an unknown <code class="docutils literal notranslate"><span class="pre">radiating_dof</span></code> to a <a class="reference internal" href="developer_manual/api/capytaine.bem.problems_and_results.html#capytaine.bem.problems_and_results.RadiationProblem" title="capytaine.bem.problems_and_results.RadiationProblem"><code class="xref py py-class docutils literal notranslate"><span class="pre">RadiationProblem</span></code></a> (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/549">PR 549</a>).</p></li>
<li><p>Fix issue due to breaking change in linear solver broadcasting in Numpy 2.0 (<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/550">GH 550</a>).</p></li>
<li><p>Remove warning mentioning missing divergence for rigid body dofs when computing hydrostatics (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/487">PR 487</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/570">PR 570</a>)</p></li>
</ul>
</section>
<section id="id9">
<h3>Internals<a class="headerlink" href="#id9" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Update test environments used in noxfile and add <code class="docutils literal notranslate"><span class="pre">editable_install_requirements.txt</span></code>. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/498">PR 498</a>)</p></li>
<li><p>Rename <code class="docutils literal notranslate"><span class="pre">tabulation_method</span></code> parameter of <a class="reference internal" href="developer_manual/api/capytaine.green_functions.delhommeau.html#capytaine.green_functions.delhommeau.Delhommeau" title="capytaine.green_functions.delhommeau.Delhommeau"><code class="xref py py-class docutils literal notranslate"><span class="pre">Delhommeau</span></code></a> as the more descriptive <code class="docutils literal notranslate"><span class="pre">tabulation_grid_shape</span></code>, and similarly for internal variables. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/503">PR 503</a>)</p></li>
<li><p>Add <code class="xref py py-func docutils literal notranslate"><span class="pre">connected_components()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">connected_components_of_waterline()</span></code> to split a mesh into connected components. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/554">PR 554</a>)</p></li>
</ul>
</section>
</section>
<section id="new-in-version-2-1-2024-04-08">
<h2>New in version 2.1 (2024-04-08)<a class="headerlink" href="#new-in-version-2-1-2024-04-08" title="Link to this heading">¶</a></h2>
<section id="id10">
<h3>Major changes<a class="headerlink" href="#id10" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><strong>New feature: Approximate forward speed for single rigid body</strong>.
A <code class="docutils literal notranslate"><span class="pre">forward_speed</span></code> parameter can now be provided to <a class="reference internal" href="developer_manual/api/capytaine.bem.problems_and_results.html#capytaine.bem.problems_and_results.LinearPotentialFlowProblem" title="capytaine.bem.problems_and_results.LinearPotentialFlowProblem"><code class="xref py py-class docutils literal notranslate"><span class="pre">LinearPotentialFlowProblem</span></code></a> (or to the test matrix when using <a class="reference internal" href="developer_manual/api/capytaine.bem.solver.html#capytaine.bem.solver.BEMSolver.fill_dataset" title="capytaine.bem.solver.BEMSolver.fill_dataset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">fill_dataset()</span></code></a>) to compute the excitation force, added mass and radiation damping with forward speed of the body in the <span class="math notranslate nohighlight">\(x\)</span> direction.
Note that the <a class="reference internal" href="developer_manual/api/capytaine.bem.problems_and_results.html#capytaine.bem.problems_and_results.RadiationProblem" title="capytaine.bem.problems_and_results.RadiationProblem"><code class="xref py py-class docutils literal notranslate"><span class="pre">RadiationProblem</span></code></a> now accept a <code class="docutils literal notranslate"><span class="pre">wave_direction</span></code> parameter, which is only used when <code class="docutils literal notranslate"><span class="pre">forward_speed</span></code> is non zero to compute the encounter frequency.
See the theory manual for references. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/376">PR 376</a>)</p></li>
<li><p>Add <a class="reference external" href="https://rich.readthedocs.io">rich</a> as a dependency and improve formatting of the console output.
Add <a class="reference internal" href="developer_manual/api/capytaine.ui.rich.html#capytaine.ui.rich.set_logging" title="capytaine.ui.rich.set_logging"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_logging()</span></code></a> function to quickly set up logging with <cite>rich</cite>.
<a class="reference internal" href="developer_manual/api/capytaine.bem.solver.html#capytaine.bem.solver.BEMSolver.solve_all" title="capytaine.bem.solver.BEMSolver.solve_all"><code class="xref py py-meth docutils literal notranslate"><span class="pre">solve_all()</span></code></a> and <a class="reference internal" href="developer_manual/api/capytaine.bem.solver.html#capytaine.bem.solver.BEMSolver.fill_dataset" title="capytaine.bem.solver.BEMSolver.fill_dataset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">fill_dataset()</span></code></a> now display a progress bar (unless turn off by the <code class="docutils literal notranslate"><span class="pre">progress_bar</span></code> argument). (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/382">PR 382</a>)</p></li>
<li><p>Reimplement computation of added mass and radiation damping in infinite depth with zero or infinite frequency. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/385">PR 385</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/485">PR 485</a>)
When using forward speed, the added mass and radiation damping are undefined, but the forces can still be computed. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/483">PR 483</a>)</p></li>
<li><p>Implement direct method (source-and-dipole formulation) in obtaining velocity potential solutions.
The direct method can be used instead of the default indirect method by setting the <code class="docutils literal notranslate"><span class="pre">method</span></code> argument of <code class="xref py py-meth docutils literal notranslate"><span class="pre">solve()</span></code>, <a class="reference internal" href="developer_manual/api/capytaine.bem.solver.html#capytaine.bem.solver.BEMSolver.solve_all" title="capytaine.bem.solver.BEMSolver.solve_all"><code class="xref py py-meth docutils literal notranslate"><span class="pre">solve_all()</span></code></a> or <a class="reference internal" href="developer_manual/api/capytaine.bem.solver.html#capytaine.bem.solver.BEMSolver.fill_dataset" title="capytaine.bem.solver.BEMSolver.fill_dataset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">fill_dataset()</span></code></a> (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/420">PR 420</a>)</p></li>
<li><p>Add new shape for the grid used for the tabulation, based on the one used in Nemoh version 3.
User can choose to use the Nemoh 3 grid shape (by default) or the former one by setting the <code class="docutils literal notranslate"><span class="pre">tabulation_method</span></code> parameter of <a class="reference internal" href="developer_manual/api/capytaine.green_functions.delhommeau.html#capytaine.green_functions.delhommeau.Delhommeau" title="capytaine.green_functions.delhommeau.Delhommeau"><code class="xref py py-class docutils literal notranslate"><span class="pre">Delhommeau</span></code></a>.
The new grid shape allows to set both the number of points (with <code class="docutils literal notranslate"><span class="pre">tabulation_nr</span></code> and <code class="docutils literal notranslate"><span class="pre">tabulation_nz</span></code>) and the extent of the tabulation (with <code class="docutils literal notranslate"><span class="pre">tabulation_rmax</span></code> and <code class="docutils literal notranslate"><span class="pre">tabulation_zmin</span></code>).
The new default tabulation might lead to slightly different results, which are likely more accurate in the new version.
(<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/439">PR 439</a>)</p></li>
</ul>
</section>
<section id="id11">
<h3>Minor changes<a class="headerlink" href="#id11" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Support passing <a class="reference internal" href="developer_manual/api/capytaine.bodies.bodies.html#capytaine.bodies.bodies.FloatingBody" title="capytaine.bodies.bodies.FloatingBody"><code class="xref py py-class docutils literal notranslate"><span class="pre">FloatingBody</span></code></a> or <a class="reference internal" href="developer_manual/api/capytaine.post_pro.free_surfaces.html#capytaine.post_pro.free_surfaces.FreeSurface" title="capytaine.post_pro.free_surfaces.FreeSurface"><code class="xref py py-class docutils literal notranslate"><span class="pre">FreeSurface</span></code></a> objects to post-processing methods such as <a class="reference internal" href="developer_manual/api/capytaine.bem.solver.html#capytaine.bem.solver.BEMSolver.compute_potential" title="capytaine.bem.solver.BEMSolver.compute_potential"><code class="xref py py-meth docutils literal notranslate"><span class="pre">compute_potential()</span></code></a> and <a class="reference internal" href="developer_manual/api/capytaine.bem.solver.html#capytaine.bem.solver.BEMSolver.compute_free_surface_elevation" title="capytaine.bem.solver.BEMSolver.compute_free_surface_elevation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">compute_free_surface_elevation()</span></code></a>. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/379">PR 379</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">top_light_intensity</span></code> optional arguments to <code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code> to illuminate the scene from top. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/380">PR 380</a>)</p></li>
<li><p>Clean up <code class="docutils literal notranslate"><span class="pre">__str__</span></code> and <code class="docutils literal notranslate"><span class="pre">__repr__</span></code> representation of many objects. Also <code class="docutils literal notranslate"><span class="pre">rich.print</span></code> now return even nicer representations. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/384">PR 384</a>)</p></li>
<li><p>Always automatically compute and store the <code class="docutils literal notranslate"><span class="pre">excitation_force</span></code> next to the <code class="docutils literal notranslate"><span class="pre">Froude_Krylov_force</span></code> and <code class="docutils literal notranslate"><span class="pre">diffraction_force</span></code> in the dataset (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/406">PR 406</a>).</p></li>
<li><p>Computing the RAO with <a class="reference internal" href="developer_manual/api/capytaine.post_pro.rao.html#capytaine.post_pro.rao.rao" title="capytaine.post_pro.rao.rao"><code class="xref py py-func docutils literal notranslate"><span class="pre">rao()</span></code></a> is not restricted to a single wave direction (or a single value of any other extra parameter) at the time anymore. (<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/405">GH 405</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/406">PR 406</a>)</p></li>
<li><p>New computation of quadrature schemes without relying on Quadpy. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/416">PR 416</a>)</p></li>
<li><p>Add a new function <a class="reference internal" href="developer_manual/api/capytaine.io.legacy.html#capytaine.io.legacy.run_cal_file" title="capytaine.io.legacy.run_cal_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">run_cal_file()</span></code></a> to solve the problems defined by a Nemoh.cal file, exactly as the command-line interface is doing (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/422">PR 422</a>).</p></li>
<li><p>Rephrase mesh resolution warnings and group several of them together in a single warning. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/423">PR 423</a>)</p></li>
<li><p>Add block-Jacobi/coarse-correction preconditioner for large arrays of bodies. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/436">PR 436</a>)</p></li>
<li><p>The tabulation is saved on disk in a cache directory instead of being recomputed at each initialization of the solver. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/454">PR 454</a>)</p></li>
<li><p>Add a <code class="docutils literal notranslate"><span class="pre">faces_max_radius</span></code> argument to the predefined geometries from <code class="xref py py-mod docutils literal notranslate"><span class="pre">predefined</span></code> to set up the resolution by giving a length scale for the panels (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/459">PR 459</a>).</p></li>
<li><p>Automatically clip the mesh (and display a warning) when a problem is initialized with a mesh above the free surface or below the sea bottom (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/486">PR 486</a>).</p></li>
</ul>
</section>
<section id="id12">
<h3>Bug fixes<a class="headerlink" href="#id12" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>When initializing a body with a mesh having degenerate panels, the initialization of the dofs used to happen before the degenerate panels were removed, leading to an inconsistency between the number of panels in the mesh and in the dof definition. (<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/367">GH 367</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/375">PR 375</a>)</p></li>
<li><p>Fix the single precision Green function (<code class="code docutils literal notranslate"><span class="pre">cpt.Delhommeau(floating_point_precision=&quot;float32&quot;)</span></code>) that was broken in v2.0. (<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/377">GH 377</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/378">PR 378</a>)</p></li>
<li><p>Update the BEMIO import feature to work with Pandas 2.0 and output periods as now done in Capytaine 2.0. A version of BEMIO that works in recent version of Python and Numpy can be found at <a class="reference external" href="https://github.com/mancellin/bemio">https://github.com/mancellin/bemio</a>. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/381">PR 381</a>)</p></li>
<li><p>Fix <a class="reference internal" href="developer_manual/api/capytaine.bem.solver.html#capytaine.bem.solver.BEMSolver.compute_pressure" title="capytaine.bem.solver.BEMSolver.compute_pressure"><code class="xref py py-meth docutils literal notranslate"><span class="pre">compute_pressure()</span></code></a> that was broken. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/394">PR 394</a>)</p></li>
<li><p>Fix error message when computing hydrostatic stiffness of non-neutrally-buoyant body that is not a single rigid body. (<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/413">GH 413</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/414">PR 414</a>)</p></li>
<li><p>Fix bug causing the quadrature method of a mesh to be forgotten when the mesh was put in a body. <code class="docutils literal notranslate"><span class="pre">quadrature_method</span></code> can now be passed as argument when initializing a new mesh. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/417">PR 417</a>)</p></li>
<li><p>The function <code class="xref py py-func docutils literal notranslate"><span class="pre">load_mesh()</span></code> more robustly detects filetype using file extension even when the file extension is not lowercase. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/441">PR 441</a>)</p></li>
<li><p>Fix bug with bodies translation or rotation when the rotation center or the center of mass had been defined as list or tuples instead of array (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/472">PR 472</a>).</p></li>
</ul>
</section>
<section id="id13">
<h3>Internals<a class="headerlink" href="#id13" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Add tentative build file for the Guix package manager (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/339">PR 339</a>).</p></li>
<li><p>Fix badly named variables <code class="docutils literal notranslate"><span class="pre">VSP2_SYM</span></code> and <code class="docutils literal notranslate"><span class="pre">VSP2_ANTISYM</span></code> in libDelhommeau (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/391">PR 391</a>)</p></li>
<li><p>Remove dependency to <code class="docutils literal notranslate"><span class="pre">hypothesis</span></code> for testing (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/391">PR 391</a>).</p></li>
<li><p>Change how forces are stored in result objects. Added mass and radiation damping can now be queried with <code class="docutils literal notranslate"><span class="pre">added_mass</span></code> and <code class="docutils literal notranslate"><span class="pre">radiation_damping</span></code> and not only the plural forms that were used nowhere else in the code. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/393">PR 393</a>)</p></li>
<li><p>Use <a class="reference external" href="https://nox.thea.codes">nox</a> to test the code in isolated virtual environments. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/401">PR 401</a>)</p></li>
<li><p>Fortran source files are not included in wheel anymore (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/360">PR 360</a>).</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">delete_first_lru_cache</span></code> decorator has been renamed <code class="xref py py-func docutils literal notranslate"><span class="pre">lru_cache_with_strict_maxsize()</span></code> and now supports keyword arguments in the memoized function (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/442">PR 442</a>).</p></li>
<li><p>Fix Xarray future warning about <cite>Dataset.dims</cite> (<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/450">GH 450</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/451">PR 451</a>).</p></li>
<li><p>Improve some warnings and error messages.</p></li>
</ul>
</section>
</section>
<section id="new-in-version-2-0-2023-06-21">
<h2>New in version 2.0 (2023-06-21)<a class="headerlink" href="#new-in-version-2-0-2023-06-21" title="Link to this heading">¶</a></h2>
<section id="id14">
<h3>Major changes<a class="headerlink" href="#id14" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>User can specify a period, a wavelength or a wavenumber instead of an angular frequency <code class="code docutils literal notranslate"><span class="pre">omega</span></code> when setting up a problem or a test matrix. If several types of frequency data are provided, an error is raised (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/283">PR 283</a>).</p></li>
<li><p><strong>Breaking</strong> The normalization of radiation problems has been changed to use the same normalization as diffraction problems. Added mass and radiation dampings are unchanged, but other outputs of radiation problem (free surface elevation, kochin functions, etc.) may differ from previous version by a factor <span class="math notranslate nohighlight">\(-j \omega\)</span>. (<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/173">GH 173</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/348">PR 348</a>)</p></li>
<li><p><strong>Breaking</strong> The above two points interfered with the handling of <span class="math notranslate nohighlight">\(\omega = 0\)</span> and <span class="math notranslate nohighlight">\(\omega = \infty\)</span> cases. They have been temporarily disabled and will return in a future release.</p></li>
<li><p>Add methods <a class="reference internal" href="developer_manual/api/capytaine.bem.solver.html#capytaine.bem.solver.BEMSolver.compute_potential" title="capytaine.bem.solver.BEMSolver.compute_potential"><code class="xref py py-meth docutils literal notranslate"><span class="pre">compute_potential()</span></code></a>, <a class="reference internal" href="developer_manual/api/capytaine.bem.solver.html#capytaine.bem.solver.BEMSolver.compute_velocity" title="capytaine.bem.solver.BEMSolver.compute_velocity"><code class="xref py py-meth docutils literal notranslate"><span class="pre">compute_velocity()</span></code></a> and <a class="reference internal" href="developer_manual/api/capytaine.bem.solver.html#capytaine.bem.solver.BEMSolver.compute_free_surface_elevation" title="capytaine.bem.solver.BEMSolver.compute_free_surface_elevation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">compute_free_surface_elevation()</span></code></a> and <a class="reference internal" href="developer_manual/api/capytaine.bem.solver.html#capytaine.bem.solver.BEMSolver.compute_pressure" title="capytaine.bem.solver.BEMSolver.compute_pressure"><code class="xref py py-meth docutils literal notranslate"><span class="pre">compute_pressure()</span></code></a> to compute the value of some fields in the domain in post-processing. Their signature has been uniformized with the <a class="reference internal" href="developer_manual/api/capytaine.bem.airy_waves.html#capytaine.bem.airy_waves.airy_waves_potential" title="capytaine.bem.airy_waves.airy_waves_potential"><code class="xref py py-func docutils literal notranslate"><span class="pre">airy_waves_potential()</span></code></a> and <a class="reference internal" href="developer_manual/api/capytaine.bem.airy_waves.html#capytaine.bem.airy_waves.airy_waves_velocity" title="capytaine.bem.airy_waves.airy_waves_velocity"><code class="xref py py-func docutils literal notranslate"><span class="pre">airy_waves_velocity()</span></code></a> functions (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/288">PR 288</a>, <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/326">PR 326</a>). New functions <a class="reference internal" href="developer_manual/api/capytaine.bem.airy_waves.html#capytaine.bem.airy_waves.airy_waves_free_surface_elevation" title="capytaine.bem.airy_waves.airy_waves_free_surface_elevation"><code class="xref py py-func docutils literal notranslate"><span class="pre">airy_waves_free_surface_elevation()</span></code></a> and <a class="reference internal" href="developer_manual/api/capytaine.bem.airy_waves.html#capytaine.bem.airy_waves.airy_waves_pressure" title="capytaine.bem.airy_waves.airy_waves_pressure"><code class="xref py py-func docutils literal notranslate"><span class="pre">airy_waves_pressure()</span></code></a> have also been added (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/293">PR 293</a>).</p></li>
<li><p><strong>Breaking</strong> The problems can now be initialized by setting a <code class="docutils literal notranslate"><span class="pre">water_depth</span></code> instead of the <code class="docutils literal notranslate"><span class="pre">sea_bottom</span></code> (which is still available for user-facing functions). This change is meant to uniformize notations in the code and use <code class="docutils literal notranslate"><span class="pre">water_depth</span></code> wherever possible (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/340">PR 340</a>). Besides the <code class="docutils literal notranslate"><span class="pre">sea_bottom</span></code> argument of many internal routines has been completely replaced by <code class="docutils literal notranslate"><span class="pre">water_depth</span></code>. Migrating then requires changing the sign of the float (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/347">PR 347</a>).</p></li>
<li><p>Add Github Actions workflow to build wheels. Precompiled packages will now be available with <code class="docutils literal notranslate"><span class="pre">pip</span></code> and not only with <code class="docutils literal notranslate"><span class="pre">conda</span></code>.</p></li>
</ul>
</section>
<section id="id15">
<h3>Minor changes<a class="headerlink" href="#id15" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Support the new format of <cite>Nemoh.cal</cite> file from Nemoh v3 (<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/278">GH 278</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/280">PR 280</a>).</p></li>
<li><p><strong>Breaking</strong> Remove the <code class="code docutils literal notranslate"><span class="pre">convention</span></code> parameter to compute excitation force with WAMIT conventions (<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/133">GH 133</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/281">PR 281</a>).
Changing the convention to compare the outputs of different codes is better done by a dedicated software such as <a class="reference external" href="https://github.com/BEMRosetta/BEMRosetta">BEMRosetta</a> or <a class="reference external" href="https://wec-sim.github.io/bemio/">BEMIO</a>.</p></li>
<li><p>Add nicer display for Capytaine objects in IPython shell (<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/227">GH 227</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/287">PR 287</a>).</p></li>
<li><p>Support exporting hydrostatics data in original Nemoh-format files - <code class="code docutils literal notranslate"><span class="pre">Hydrostatics.dat</span></code> and <code class="code docutils literal notranslate"><span class="pre">KH.dat</span></code> (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/285">PR 285</a>).</p></li>
<li><p>Add nicer display for Capytaine objects in IPython shell (<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/227">GH 227</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/287">PR 287</a>)</p></li>
<li><p>Add functions <code class="xref py py-func docutils literal notranslate"><span class="pre">load_PNL()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">write_PNL()</span></code> to load and write meshes in HAMS <code class="docutils literal notranslate"><span class="pre">.pnl</span></code> format (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/289">PR 289</a>).</p></li>
<li><p><strong>Breaking</strong> Remove <code class="docutils literal notranslate"><span class="pre">cpt.Nemoh()</span></code> class that was replaced by <a class="reference internal" href="developer_manual/api/capytaine.bem.solver.html#capytaine.bem.solver.BEMSolver" title="capytaine.bem.solver.BEMSolver"><code class="xref py py-class docutils literal notranslate"><span class="pre">BEMSolver</span></code></a> in version 1.1 (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/291">PR 291</a>)</p></li>
<li><p><strong>Breaking</strong> Remove <code class="docutils literal notranslate"><span class="pre">full_body</span></code> attribute from <a class="reference internal" href="developer_manual/api/capytaine.bodies.bodies.html#capytaine.bodies.bodies.FloatingBody" title="capytaine.bodies.bodies.FloatingBody"><code class="xref py py-class docutils literal notranslate"><span class="pre">FloatingBody</span></code></a> that used to keep a copy of the body before clipping in-place (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/302">PR 302</a>).</p></li>
<li><p><strong>Breaking</strong> Remove <code class="docutils literal notranslate"><span class="pre">dimensionless_wavenumber</span></code> and <code class="docutils literal notranslate"><span class="pre">dimensionless_omega</span></code> attributes from <a class="reference internal" href="developer_manual/api/capytaine.bem.problems_and_results.html#capytaine.bem.problems_and_results.LinearPotentialFlowProblem" title="capytaine.bem.problems_and_results.LinearPotentialFlowProblem"><code class="xref py py-class docutils literal notranslate"><span class="pre">LinearPotentialFlowProblem</span></code></a> as they are not used in the code and can be easily recomputed by users if necessary (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/306">PR 306</a>).</p></li>
<li><p>Add <a class="reference internal" href="developer_manual/api/capytaine.bodies.bodies.html#capytaine.bodies.bodies.FloatingBody.minimal_computable_wavelength" title="capytaine.bodies.bodies.FloatingBody.minimal_computable_wavelength"><code class="xref py py-meth docutils literal notranslate"><span class="pre">minimal_computable_wavelength()</span></code></a> to estimate the wavelengths computable with the mesh resolution (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/341">PR 341</a>).</p></li>
<li><p>Slightly increase default tabulation size to avoid some high-frequency issues such as <a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/157">GH 157</a> (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/353">PR 353</a>).</p></li>
</ul>
</section>
<section id="id16">
<h3>Bug fixes<a class="headerlink" href="#id16" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fix <code class="xref py py-meth docutils literal notranslate"><span class="pre">immersed_part()</span></code> (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/307">PR 307</a>).</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">compute_hydrostatics()</span></code> used to fail for non-rigid bodies because it could not compute the rigid-body inertia.
The rigid-body inertia is now just skipped for bodies with no rigid-body dofs (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/308">PR 308</a>).</p></li>
<li><p>Reduce the default tolerance of the mesh clipper for points just above the free surface (<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/320">GH 320</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/322">PR 322</a>).</p></li>
<li><p>Convert <code class="docutils literal notranslate"><span class="pre">center_of_mass</span></code> and <code class="docutils literal notranslate"><span class="pre">rotation_center</span></code> to arrays in <a class="reference internal" href="developer_manual/api/capytaine.bodies.bodies.html#capytaine.bodies.bodies.FloatingBody" title="capytaine.bodies.bodies.FloatingBody"><code class="xref py py-class docutils literal notranslate"><span class="pre">FloatingBody</span></code></a> constructor to avoid a few issues (<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/319">GH 319</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/325">PR 325</a>).</p></li>
<li><p>Fix bug (leading to either <code class="docutils literal notranslate"><span class="pre">RuntimeError</span></code> or wrong output) when clipping with plane that does not contain the origin. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/344">PR 344</a>)</p></li>
<li><p>Instances of <a class="reference internal" href="developer_manual/api/capytaine.bem.solver.html#capytaine.bem.solver.BEMSolver" title="capytaine.bem.solver.BEMSolver"><code class="xref py py-class docutils literal notranslate"><span class="pre">BEMSolver</span></code></a> initialized with default parameters do not share the same engine, hence they do not share the same cache. This minor issue was causing minor interferences in some benchmarks (<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/295">GH 295</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/350">PR 350</a>).</p></li>
</ul>
</section>
<section id="id17">
<h3>Internals<a class="headerlink" href="#id17" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Major update of the compilation toolchain because of the upcoming deprecation of <code class="docutils literal notranslate"><span class="pre">numpy.distutils</span></code>. Capytaine is now built with <code class="docutils literal notranslate"><span class="pre">meson-python</span></code>.</p></li>
<li><p>The method <a class="reference internal" href="developer_manual/api/capytaine.green_functions.delhommeau.html#capytaine.green_functions.delhommeau.Delhommeau.evaluate" title="capytaine.green_functions.delhommeau.Delhommeau.evaluate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">evaluate()</span></code></a> (and its counterparts for other Green functions) now accepts a list of points as first argument instead of a mesh. It has now an optional boolean argument <code class="docutils literal notranslate"><span class="pre">early_dot_product</span></code> to return the integrals of the gradient of the Green function and not only the normal derivative (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/288">PR 288</a>).</p></li>
<li><p>Remove warnings due to 0/0 divisions in <code class="xref py py-func docutils literal notranslate"><span class="pre">compute_faces_properties()</span></code> (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/310">PR 310</a>)</p></li>
<li><p><strong>Breaking</strong> Remove unused and undocumented code about meshes, including <code class="docutils literal notranslate"><span class="pre">mesh.min_edge_length</span></code>, <code class="docutils literal notranslate"><span class="pre">mesh.mean_edge_length</span></code>, <code class="docutils literal notranslate"><span class="pre">mesh.max_edge_length</span></code>, <code class="docutils literal notranslate"><span class="pre">mesh.get_surface_integrals</span></code>, <code class="docutils literal notranslate"><span class="pre">mesh.volume</span></code>, <code class="docutils literal notranslate"><span class="pre">mesh.vv</span></code>, <code class="docutils literal notranslate"><span class="pre">mesh.vf</span></code>, <code class="docutils literal notranslate"><span class="pre">mesh.ff</span></code>, <code class="docutils literal notranslate"><span class="pre">mesh.boundaries</span></code>, <code class="docutils literal notranslate"><span class="pre">mesh.nb_boundaries</span></code>, <code class="docutils literal notranslate"><span class="pre">compute_faces_integrals</span></code>, <code class="docutils literal notranslate"><span class="pre">SingleFace</span></code>. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/334">PR 334</a>)</p></li>
<li><p>Add analytics to the documentation using <a class="reference external" href="https://plausible.io">Plausible.io</a> (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/290">PR 290</a>).</p></li>
</ul>
</section>
</section>
<section id="new-in-version-1-5-2022-12-13">
<h2>New in version 1.5 (2022-12-13)<a class="headerlink" href="#new-in-version-1-5-2022-12-13" title="Link to this heading">¶</a></h2>
<section id="id18">
<h3>Major changes<a class="headerlink" href="#id18" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>The <a class="reference internal" href="developer_manual/api/capytaine.green_functions.delhommeau.html#capytaine.green_functions.delhommeau.XieDelhommeau" title="capytaine.green_functions.delhommeau.XieDelhommeau"><code class="xref py py-class docutils literal notranslate"><span class="pre">XieDelhommeau</span></code></a> implementation of the Green function has been improved.
The implementation used to be almost the same as the default <a class="reference internal" href="developer_manual/api/capytaine.green_functions.delhommeau.html#capytaine.green_functions.delhommeau.Delhommeau" title="capytaine.green_functions.delhommeau.Delhommeau"><code class="xref py py-class docutils literal notranslate"><span class="pre">Delhommeau</span></code></a> method.
A missing key element has been added and the <a class="reference internal" href="developer_manual/api/capytaine.green_functions.delhommeau.html#capytaine.green_functions.delhommeau.XieDelhommeau" title="capytaine.green_functions.delhommeau.XieDelhommeau"><code class="xref py py-class docutils literal notranslate"><span class="pre">XieDelhommeau</span></code></a> is now actually more accurate near the free surface.
(<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/180">PR 180</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/216">PR 216</a>)</p></li>
<li><p>New default linear solver <code class="xref py py-class docutils literal notranslate"><span class="pre">LUSolverWithCache</span></code>: the LU decomposition of the matrix is now cached to be reused for other similar problems, diminishing the total computation time up to 40%. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/235">PR 235</a>)</p></li>
<li><p>New functions to generate simple geometric meshes have been implemented in <code class="code docutils literal notranslate"><span class="pre">capytaine.meshes.predefined</span></code>. They are similar to the former geometric bodies (<code class="xref py py-class docutils literal notranslate"><span class="pre">Sphere</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">HorizontalCylinder</span></code>, etc.), except that they return a mesh and do not create a <code class="code docutils literal notranslate"><span class="pre">FloatingBody</span></code>. The geometric body classes are considered deprecated, although they should still work as expected. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/233">PR 233</a>)</p></li>
<li><p>Changed the behavior of <code class="xref py py-meth docutils literal notranslate"><span class="pre">compute_hydrostatics()</span></code>. The mesh is not silently modified anymore. The stiffness and inertia matrices are stored in the body for inclusion in the output dataset. The inertia matrix is now computed on the full mesh (<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/197">GH 197</a>, <a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/249">GH 249</a>, <a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/258">GH 258</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/262">PR 262</a>).</p></li>
</ul>
</section>
<section id="id19">
<h3>Minor changes<a class="headerlink" href="#id19" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Add <code class="code docutils literal notranslate"><span class="pre">floating_point_precision</span></code> argument to <a class="reference internal" href="developer_manual/api/capytaine.green_functions.delhommeau.html#capytaine.green_functions.delhommeau.Delhommeau" title="capytaine.green_functions.delhommeau.Delhommeau"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Delhommeau()</span></code></a> and <a class="reference internal" href="developer_manual/api/capytaine.green_functions.delhommeau.html#capytaine.green_functions.delhommeau.XieDelhommeau" title="capytaine.green_functions.delhommeau.XieDelhommeau"><code class="xref py py-meth docutils literal notranslate"><span class="pre">XieDelhommeau()</span></code></a> that accepts either <code class="code docutils literal notranslate"><span class="pre">&quot;float32&quot;</span></code> for single precision computations or <code class="code docutils literal notranslate"><span class="pre">&quot;float64&quot;</span></code> for double precision computations (the latter is the default). (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/224">PR 224</a>).</p></li>
<li><p>Passing the argument <code class="code docutils literal notranslate"><span class="pre">tabulation_nr=0</span></code> or <code class="code docutils literal notranslate"><span class="pre">tabulation_nz=0</span></code> to <a class="reference internal" href="developer_manual/api/capytaine.green_functions.delhommeau.html#capytaine.green_functions.delhommeau.Delhommeau" title="capytaine.green_functions.delhommeau.Delhommeau"><code class="xref py py-class docutils literal notranslate"><span class="pre">Delhommeau</span></code></a>
or <a class="reference internal" href="developer_manual/api/capytaine.green_functions.delhommeau.html#capytaine.green_functions.delhommeau.XieDelhommeau" title="capytaine.green_functions.delhommeau.XieDelhommeau"><code class="xref py py-class docutils literal notranslate"><span class="pre">XieDelhommeau</span></code></a> now allows to run the code without interpolating the Green function
from a precomputed tabulation. This is meant as a tools for benchmarks and validation, since it decreases the performance of the code
for often no accuracy gain. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/229">PR 229</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">load_mesh()</span></code> is now exported by the main namespace: <code class="code docutils literal notranslate"><span class="pre">from</span> <span class="pre">capytaine</span> <span class="pre">import</span> <span class="pre">load_mesh</span></code>.
The documentation has been changed to recommend the use of this function instead of <a class="reference internal" href="developer_manual/api/capytaine.bodies.bodies.html#capytaine.bodies.bodies.FloatingBody.from_file" title="capytaine.bodies.bodies.FloatingBody.from_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_file()</span></code></a>.
(<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/231">PR 231</a>)</p></li>
<li><p>When initializing a <code class="code docutils literal notranslate"><span class="pre">FloatingBody</span></code>, one can now pass directly a mesh object from <code class="code docutils literal notranslate"><span class="pre">meshio</span></code>.
The documentation has been changed to recommend this approach instead of <a class="reference internal" href="developer_manual/api/capytaine.bodies.bodies.html#capytaine.bodies.bodies.FloatingBody.from_meshio" title="capytaine.bodies.bodies.FloatingBody.from_meshio"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_meshio()</span></code></a>.
(<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/259">GH 259</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/261">PR 261</a>)</p></li>
<li><p>When joining two bodies as e.g. <code class="code docutils literal notranslate"><span class="pre">body1</span> <span class="pre">+</span> <span class="pre">body2</span></code>, some hydrostatic properties are passed to the resulting body:
if all the bodies have hydrostatic stiffness matrices or inertia matrices defined,
then they are assigned to the joined body as a larger block diagonal matrix (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/243">PR 243</a>).</p></li>
<li><p>Add <a class="reference internal" href="developer_manual/api/capytaine.bodies.bodies.html#capytaine.bodies.bodies.FloatingBody.immersed_part" title="capytaine.bodies.bodies.FloatingBody.immersed_part"><code class="xref py py-meth docutils literal notranslate"><span class="pre">immersed_part()</span></code></a> method to clip the body without modifying it in place (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/244">PR 244</a>).</p></li>
<li><p>Add <code class="xref py py-func docutils literal notranslate"><span class="pre">rigid_body_dofs()</span></code> method returning a placeholder that can be given at the creation of <a class="reference internal" href="developer_manual/api/capytaine.bodies.bodies.html#capytaine.bodies.bodies.FloatingBody" title="capytaine.bodies.bodies.FloatingBody"><code class="xref py py-class docutils literal notranslate"><span class="pre">FloatingBody</span></code></a> to initialize the six rigid body dofs (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/245">PR 245</a>).</p></li>
<li><p>Custom classes from the <code class="code docutils literal notranslate"><span class="pre">capytaine.matrices</span></code> module storing block matrices or data-sparse matrices
can be transformed into full Numpy arrays with <code class="code docutils literal notranslate"><span class="pre">np.array(...)</span></code> (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/99">PR 99</a>)</p></li>
<li><p>Add <code class="code docutils literal notranslate"><span class="pre">Dockerfile</span></code> and instructions to install with Docker (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/137">PR 137</a>)</p></li>
<li><p>Add optional arguments to <code class="xref py py-func docutils literal notranslate"><span class="pre">write_GDF()</span></code> to write parameters <code class="code docutils literal notranslate"><span class="pre">ulen,</span> <span class="pre">grav,</span> <span class="pre">isx,</span> <span class="pre">isy</span></code> to the mesh file (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/241">PR 241</a>)</p></li>
<li><p>Fix bug with MED mesh file loading (<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/247">GH 247</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/250">PR 250</a>).</p></li>
<li><p>Several surface integrals properties of <code class="code docutils literal notranslate"><span class="pre">FloatingBodies</span></code> are also defined on meshes, such as <code class="code docutils literal notranslate"><span class="pre">volume</span></code> or <code class="code docutils literal notranslate"><span class="pre">center_of_buoyancy</span></code> (pull:<cite>263</cite>).</p></li>
</ul>
</section>
<section id="id20">
<h3>Internals<a class="headerlink" href="#id20" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>The integration of the pressure on the mesh of the body was implemented twice independently. It has been factored out in <a class="reference internal" href="developer_manual/api/capytaine.bodies.bodies.html#capytaine.bodies.bodies.FloatingBody.integrate_pressure" title="capytaine.bodies.bodies.FloatingBody.integrate_pressure"><code class="xref py py-meth docutils literal notranslate"><span class="pre">integrate_pressure()</span></code></a> (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/218">PR 218</a>)</p></li>
<li><p><cite>__rmatmul__</cite> has been implemented for low rank matrices (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/222">PR 222</a>).</p></li>
<li><p>New implementation of the GDF mesh file reader <code class="xref py py-func docutils literal notranslate"><span class="pre">load_GDF()</span></code> (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/241">PR 241</a>)</p></li>
</ul>
</section>
</section>
<section id="new-in-version-1-4-2-2022-10-03">
<h2>New in version 1.4.2 (2022-10-03)<a class="headerlink" href="#new-in-version-1-4-2-2022-10-03" title="Link to this heading">¶</a></h2>
<section id="id21">
<h3>Bug fixes<a class="headerlink" href="#id21" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Raise error message when calling <code class="xref py py-meth docutils literal notranslate"><span class="pre">compute_hydrostatics()</span></code> without a center of mass defined (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/207">PR 207</a>).</p></li>
<li><p>Fix bug when cropping body with a dof defined manually as a list of tuples (<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/204">GH 204</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/206">PR 206</a>).</p></li>
</ul>
</section>
<section id="documentation">
<h3>Documentation<a class="headerlink" href="#documentation" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Miscellaneous improvements of the documentation (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/205">PR 205</a>, <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/211">PR 211</a>, <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/219">PR 219</a>)</p></li>
<li><p>Clean up and fix animation example in the cookbook (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/213">PR 213</a>).</p></li>
<li><p>The warning message for insufficient mesh resolution appears earlier and has been reworded to be clearer (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/217">PR 217</a>).</p></li>
</ul>
</section>
<section id="id22">
<h3>Internals<a class="headerlink" href="#id22" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Replace the Fortran core by a git submodule pointing to <a class="reference external" href="https://github.com/capytaine/libDelhommeau/">libDelhommeau</a> (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/208">PR 208</a>).
Future developments of the Green function will take place there.</p></li>
<li><p>Move from Travis CI to Github Actions for continuous integration (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/209">PR 209</a>)</p></li>
</ul>
</section>
</section>
<section id="new-in-version-1-4-1-2022-09-05">
<h2>New in version 1.4.1 (2022-09-05)<a class="headerlink" href="#new-in-version-1-4-1-2022-09-05" title="Link to this heading">¶</a></h2>
<section id="id23">
<h3>Bug fixes<a class="headerlink" href="#id23" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fix bug in hydrostatics of rigid bodies: the hydrostatic matrices were always assuming that the rotation dofs were defined around the <span class="math notranslate nohighlight">\((0, 0, 0)\)</span> point.
The stiffness and inertia matrix are now invariant by horizontal translation of the body, as they should be. (<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/178">GH 178</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/196">PR 196</a>).</p></li>
<li><p>Removed outdated volume/area methods from pre-defined bodies (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/183">PR 183</a>).</p></li>
<li><p>Added symmetric realization and reflection to gdf mesh import (<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/186">GH 186</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/187">PR 187</a>).</p></li>
<li><p>Fix some automatic mesh names (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/195">PR 195</a>)</p></li>
<li><p>Fix ordering of the dofs when using <a class="reference internal" href="developer_manual/api/capytaine.bodies.bodies.html#capytaine.bodies.bodies.FloatingBody.assemble_regular_array" title="capytaine.bodies.bodies.FloatingBody.assemble_regular_array"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assemble_regular_array()</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/198">GH 198</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/199">PR 199</a>)</p></li>
<li><p>Return more explicit error message when the center of mass is missing for the computation of rigid-body hydrostatics (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/201">PR 201</a>).</p></li>
<li><p>Return error message when trying to animate a body with a dof that has not been defined. Previously, undefined dofs were silently ignored. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/202">PR 202</a>)</p></li>
</ul>
</section>
</section>
<section id="new-in-version-1-4-2022-07-07">
<h2>New in version 1.4 (2022-07-07)<a class="headerlink" href="#new-in-version-1-4-2022-07-07" title="Link to this heading">¶</a></h2>
<section id="id24">
<h3>Major changes<a class="headerlink" href="#id24" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>The function that used to be called <code class="code docutils literal notranslate"><span class="pre">impedance</span></code> is now named <a class="reference internal" href="developer_manual/api/capytaine.post_pro.impedance.html#capytaine.post_pro.impedance.rao_transfer_function" title="capytaine.post_pro.impedance.rao_transfer_function"><code class="xref py py-func docutils literal notranslate"><span class="pre">rao_transfer_function()</span></code></a>.
The new function <a class="reference internal" href="developer_manual/api/capytaine.post_pro.impedance.html#capytaine.post_pro.impedance.impedance" title="capytaine.post_pro.impedance.impedance"><code class="xref py py-func docutils literal notranslate"><span class="pre">impedance()</span></code></a> is the actual impedance matrix (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/142">PR 142</a>, <a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/147">GH 147</a>, <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/149">PR 149</a>).</p></li>
<li><p>The mass matrix of a floating body used to be denoted <code class="code docutils literal notranslate"><span class="pre">mass</span></code>. It is now denote <code class="code docutils literal notranslate"><span class="pre">inertia_matrix</span></code>.
The attribute <code class="code docutils literal notranslate"><span class="pre">body.mass</span></code> is now used instead for the (scalar) mass of the body. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/165">PR 165</a>)</p></li>
<li><p>Implementation of <code class="xref py py-class docutils literal notranslate"><span class="pre">Sphere</span></code> has changed.
The use of symmetry is now controlled by the <code class="code docutils literal notranslate"><span class="pre">axial_symmetry</span></code> keyword argument.
The <code class="code docutils literal notranslate"><span class="pre">clever</span></code> keyword argument is deprecated for <code class="code docutils literal notranslate"><span class="pre">Sphere</span></code> and should be replaced by the more explicit keyword arguments <code class="code docutils literal notranslate"><span class="pre">axial_symmetry</span></code>.
Meanwhile, a bug has been fixed with its <code class="code docutils literal notranslate"><span class="pre">geometric_center</span></code> (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/150">PR 150</a>).</p></li>
<li><p>The default linear solver is the direct solver and not the iterative solver GMRES, because it is more robust and more predictable.
Nothing changes when users explicitly choose a linear solver. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/171">PR 171</a>)</p></li>
</ul>
</section>
<section id="id25">
<h3>Bug fixes<a class="headerlink" href="#id25" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fix major bug in impedance matrix and RAO computation: the sign of the dissipation matrix was wrong in previous versions (<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/102">GH 102</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/140">PR 140</a>).</p></li>
<li><p>Fix major inaccuracy for deep panels or high frequencies, that is panels deeper than <span class="math notranslate nohighlight">\(1.2\lambda\)</span> below the free surface where <span class="math notranslate nohighlight">\(\lambda\)</span> is the wavelength (<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/38">GH 38</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/156">PR 156</a>)</p></li>
<li><p>Wave directions in <code class="code docutils literal notranslate"><span class="pre">Nemoh.cal</span></code> are interpreted as degrees as they should be (and then converted to radians to be handled by the rest of the code). (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/141">PR 141</a>)</p></li>
<li><p>Fix bug in rotations around axis that does not pass by (0, 0, 0) (<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/151">GH 151</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/152">PR 152</a>).</p></li>
<li><p>New implementation of the mesh importer for <code class="code docutils literal notranslate"><span class="pre">hst</span></code> files. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/90">PR 90</a>)
It should be more robust and support more variants of the <code class="code docutils literal notranslate"><span class="pre">hst</span></code> mesh file format.</p></li>
<li><p>Support for quadratures from <a class="reference external" href="https://pypi.org/project/quadpy/">quadpy</a> has been updated to support the version 0.16.16 of quadpy (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/164">PR 164</a>).</p></li>
</ul>
</section>
<section id="new-features">
<h3>New features<a class="headerlink" href="#new-features" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Add method to compute some of the hydrostatic parameters such as volume, buoyancy center, wet surface area, hydrostatic stiffness, inertia matrix etc.
<code class="code docutils literal notranslate"><span class="pre">compute_hydrostatics</span></code> method is created to return all hydrostatic parameters similar to <code class="code docutils literal notranslate"><span class="pre">meshmagick.hydrostatics.compute_hydrostatics</span></code> (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/106">PR 106</a>).
By default, the hydrostatics are computed assuming a neutrally buoyant body (its mass is the displaced mass of water).
Non-neutrally buoyant are partially supported, by setting the <code class="code docutils literal notranslate"><span class="pre">mass</span></code> attribute of the body (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/166">PR 166</a>)</p></li>
<li><p>Add new parallelization using the <a class="reference external" href="https://joblib.readthedocs.io">joblib</a> library as a new optional dependency.
The optional keyword-argument <code class="code docutils literal notranslate"><span class="pre">n_jobs</span></code> in the <a class="reference internal" href="developer_manual/api/capytaine.bem.solver.html#capytaine.bem.solver.BEMSolver.solve_all" title="capytaine.bem.solver.BEMSolver.solve_all"><code class="xref py py-meth docutils literal notranslate"><span class="pre">solve_all()</span></code></a> and <a class="reference internal" href="developer_manual/api/capytaine.bem.solver.html#capytaine.bem.solver.BEMSolver.fill_dataset" title="capytaine.bem.solver.BEMSolver.fill_dataset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">fill_dataset()</span></code></a> controls the number of processes running in parallel (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/136">PR 136</a>). By default, this parallelisation is disabled (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/172">PR 172</a>).</p></li>
<li><p>Refactor Delhommeau’s method for the Green function evaluation. The size of the tabulation is not hard-coded anymore and can be changed by users. (<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/20">GH 20</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/157">PR 157</a>)</p></li>
<li><p>Method <code class="code docutils literal notranslate"><span class="pre">show_matplotlib</span></code> can now colour mesh faces based on a specified scalar field (e.g. pressure) (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/122">PR 122</a>).</p></li>
<li><p>The functions <a class="reference internal" href="developer_manual/api/capytaine.io.xarray.html#capytaine.io.xarray.problems_from_dataset" title="capytaine.io.xarray.problems_from_dataset"><code class="xref py py-func docutils literal notranslate"><span class="pre">problems_from_dataset()</span></code></a> and <a class="reference internal" href="developer_manual/api/capytaine.bem.solver.html#capytaine.bem.solver.BEMSolver.fill_dataset" title="capytaine.bem.solver.BEMSolver.fill_dataset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">fill_dataset()</span></code></a> accept a body alone as input.
That is, one can use <code class="code docutils literal notranslate"><span class="pre">fill_dataset(test_matrix,</span> <span class="pre">body)</span></code> and not only <code class="code docutils literal notranslate"><span class="pre">fill_dataset(test_matrix,</span> <span class="pre">[body])</span></code> (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/144">PR 144</a>).</p></li>
</ul>
</section>
<section id="documentation-and-error-handling">
<h3>Documentation and error handling<a class="headerlink" href="#documentation-and-error-handling" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><dl class="simple">
<dt>Improve feedback to users:</dt><dd><ul>
<li><p>Print a warning if the user provides a <code class="code docutils literal notranslate"><span class="pre">wave_direction</span></code> that is not in the range [-2π, 2π]. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/141">PR 141</a>)</p></li>
<li><p>Raise an error when the Green function evaluation returns a <code class="code docutils literal notranslate"><span class="pre">NaN</span></code> (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/143">PR 143</a>).</p></li>
<li><p>Improve message when the GMRES did not converge (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/143">PR 143</a>).</p></li>
<li><p>Raise an error when a body with an empty mesh is given to <code class="code docutils literal notranslate"><span class="pre">LinearPotentialFlowProblem</span></code> (<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/128">GH 128</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/145">PR 145</a>).</p></li>
<li><p>Print a warning when a key is unknown in the test matrix provided to <a class="reference internal" href="developer_manual/api/capytaine.bem.solver.html#capytaine.bem.solver.BEMSolver.fill_dataset" title="capytaine.bem.solver.BEMSolver.fill_dataset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">fill_dataset()</span></code></a> (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/155">PR 155</a>).</p></li>
<li><p>Raise an error if neither <code class="code docutils literal notranslate"><span class="pre">radiating_dof</span></code> (for radiation problems) nor <code class="code docutils literal notranslate"><span class="pre">wave_direction</span></code> (for diffraction problems) is provided in the test matrix in <a class="reference internal" href="developer_manual/api/capytaine.bem.solver.html#capytaine.bem.solver.BEMSolver.fill_dataset" title="capytaine.bem.solver.BEMSolver.fill_dataset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">fill_dataset()</span></code></a> (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/155">PR 155</a>).</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>A new example using Haskind’s relation has been added to the cookbook (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/129">PR 129</a>).</p></li>
<li><p>Miscellaneous improvements of the documentation.</p></li>
</ul>
</section>
</section>
<section id="new-in-version-1-3-2021-10-07">
<h2>New in version 1.3 (2021-10-07)<a class="headerlink" href="#new-in-version-1-3-2021-10-07" title="Link to this heading">¶</a></h2>
<section id="id26">
<h3>Major changes<a class="headerlink" href="#id26" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>The mesh are always “healed” when a new <code class="code docutils literal notranslate"><span class="pre">FloatingBody</span></code> is initialised
(i.e. unused vertices are removed, degenerate triangles are removed, etc.).
See for instance <a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/46">GH 46</a>.</p></li>
<li><p>Implementation of symmetries for <code class="code docutils literal notranslate"><span class="pre">HorizontalCylinder</span></code> has changed.
The cylinder is now a reflection of two halves containing translational
repetition of half rings, instead of a translational repetition of symmetric
ring. By default, only reflection symmetry is used. (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/91">PR 91</a>)
The use of symmetries can be controlled with <code class="code docutils literal notranslate"><span class="pre">translation_symmetry</span></code> and
<code class="code docutils literal notranslate"><span class="pre">reflection_symmetry</span></code> optional keyword arguments.
The <code class="code docutils literal notranslate"><span class="pre">clever</span></code> keyword argument is deprecated for <code class="code docutils literal notranslate"><span class="pre">HorizontalCylinder</span></code>
and should be replaced by the new more explicit keyword arguments above.</p></li>
</ul>
</section>
<section id="id27">
<h3>New features<a class="headerlink" href="#id27" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Add method <code class="code docutils literal notranslate"><span class="pre">FloatingBody.from_meshio</span></code> to import <a class="reference external" href="https://pypi.org/project/meshio/">meshio</a> and <a class="reference external" href="https://pypi.org/project/pygmsh/">pygmsh</a> mesh objects (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/62">PR 62</a>)</p></li>
<li><p>Add method <code class="code docutils literal notranslate"><span class="pre">FloatingBody.assemble_arbitrary_array</span></code> to make an array of bodies with arbitrary layout (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/71">PR 71</a>).</p></li>
<li><p>Break out impedance from RAO to separate function (<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/61">GH 61</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/63">PR 63</a>).</p></li>
<li><p>Method <cite>problems_from_dataset</cite> can now use a list of gravitational acceleration <cite>g</cite> values in the test matrix (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/86">PR 86</a>).</p></li>
<li><p>Add example in cookbook for computing hydrostatics and mass properties with Meshmagick 2 (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/70">PR 70</a>).</p></li>
</ul>
</section>
<section id="id28">
<h3>Bug fixes<a class="headerlink" href="#id28" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fix bug in free surface elevation computation when the number of faces in the free surface mesh is not a multiple of the chunk size, that is by default a multiple of 50 (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/82">PR 82</a>).</p></li>
<li><p>The function <code class="code docutils literal notranslate"><span class="pre">assemble_dataset</span></code> did not support well the problems without a free surface. In the new version, such problems are explicitly ignored and a warning message is displayed. (<a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/88">GH 88</a> and <a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/89">PR 89</a>).</p></li>
<li><p>Fix bug in some of the mesh readers/writers when using pathlib path objects (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/87">PR 87</a>).</p></li>
<li><p>Function <code class="code docutils literal notranslate"><span class="pre">load_GDF</span></code> has been rewritten to accept any GDF file format (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/97">PR 97</a>).</p></li>
</ul>
</section>
<section id="internal-and-development">
<h3>Internal and development<a class="headerlink" href="#internal-and-development" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Easier installation of optional dependencies via <code class="code docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">-e</span> <span class="pre">.[extra]</span></code> and <code class="code docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">-e</span> <span class="pre">.[develop]</span></code> (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/96">PR 96</a>).</p></li>
<li><p>Use pytest skipif to skip tests if optional dependencies are not installed (<a class="extlink-pull reference external" href="https://github.com/capytaine/capytaine/pull/68">PR 68</a>).</p></li>
</ul>
</section>
</section>
<section id="new-in-version-1-2-1-2021-04-14">
<h2>New in version 1.2.1 (2021-04-14)<a class="headerlink" href="#new-in-version-1-2-1-2021-04-14" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Minor bug fixes,
including <a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/37">GH 37</a>
and <a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/56">GH 56</a> (thanks to Ryan Coe).</p></li>
<li><p>Add a warning when a panel is on the free surface
(see <a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/29">GH 29</a> and <a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/50">GH 50</a>)</p></li>
</ul>
</section>
<section id="new-in-version-1-2-2020-04-24">
<h2>New in version 1.2 (2020-04-24)<a class="headerlink" href="#new-in-version-1-2-2020-04-24" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Experimental implementation of higher order quadratures for the integration of
the Green function on the mesh. Default behavior is still the first order
integration as in Nemoh.</p></li>
<li><p>Add method <code class="code docutils literal notranslate"><span class="pre">FloatingBody.animate</span></code> to quickly visualize the motion of a body
and add method <code class="code docutils literal notranslate"><span class="pre">Animation.embed_in_notebook</span></code> to embed animations in Jupyter
notebooks.</p></li>
<li><p>Keep the order of the dofs in <cite>xarray</cite>’s Datasets.
This patch uses the CategoricalIndex feature of <cite>xarray</cite> which was buggy
before version 0.15.1 of <cite>xarray</cite>. Thus this minimal version is now required.</p></li>
<li><p>Add missing Kochin function for the diffraction.
(See <a class="extlink-issue reference external" href="https://github.com/capytaine/capytaine/issues/22">GH 22</a>.)
In previous version the variable named <code class="code docutils literal notranslate"><span class="pre">kochin</span></code> in the dataset was only the
Kochin function for the radiated waves. A new variable names
<code class="code docutils literal notranslate"><span class="pre">kochin_diffraction</span></code> has been added. The existing variable <code class="code docutils literal notranslate"><span class="pre">kochin</span></code> has not
been renamed, for backward compatibility, but might be in a future release of
Capytaine.</p></li>
<li><p>Improvement of caching to limit RAM usage for large problems.</p></li>
<li><p>Make optional the dependency to graphical packages (<cite>matplotlib</cite> and <cite>vtk</cite>).
They were causing issues to some users.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">problems_and_results.py</span></code> has been rewritten to be slightly more readable and
remove the dependency to <cite>attrs</cite>.</p></li>
</ul>
</section>
<section id="new-in-version-1-1-2019-09-24">
<h2>New in version 1.1 (2019-09-24)<a class="headerlink" href="#new-in-version-1-1-2019-09-24" title="Link to this heading">¶</a></h2>
<section id="id29">
<h3>Major changes<a class="headerlink" href="#id29" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Refactoring of the implementation of the solver.
The new implementation separates the solver itself from the evaluation of the
Green function and the matrix building engine.
This more modular structure allows user to choose separately the Green
function and the matrix engine that they want to use.</p>
<p>The former API (<code class="code docutils literal notranslate"><span class="pre">Nemoh()</span></code> object) has been kept for backward compatibility.
In most cases, replacing <code class="code docutils literal notranslate"><span class="pre">Nemoh()</span></code> by <code class="code docutils literal notranslate"><span class="pre">BEMSolver()</span></code> is sufficient
to migrate to the new structure.</p>
<p>See <a class="reference internal" href="user_manual/resolution.html"><span class="doc">Resolution</span></a> for the full documentation of the new structure
and the cookbook for examples.</p>
</li>
<li><p>Add Xie’s variant of Delhommeau’s Green function
<a class="reference internal" href="developer_manual/api/capytaine.green_functions.delhommeau.html#capytaine.green_functions.delhommeau.XieDelhommeau" title="capytaine.green_functions.delhommeau.XieDelhommeau"><code class="xref py py-class docutils literal notranslate"><span class="pre">XieDelhommeau</span></code></a> <a class="reference internal" href="theory_manual/bibliography.html#x18" id="id30"><span>[X18]</span></a>.</p></li>
<li><p>The option <cite>cache_rankine_matrices</cite> has been removed. It was impeding the
performance and modularity of the code for a very low gain. It might be
reimplemented in a future version if there is really a need for it.</p></li>
</ul>
</section>
<section id="id31">
<h3>Minor changes<a class="headerlink" href="#id31" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Minor performance improvements.</p></li>
<li><p>Fix Github issue #18.</p></li>
<li><p>Improve test suite.</p></li>
</ul>
</section>
</section>
<section id="new-in-version-1-0-1-2019-03-28">
<h2>New in version 1.0.1 (2019-03-28)<a class="headerlink" href="#new-in-version-1-0-1-2019-03-28" title="Link to this heading">¶</a></h2>
<section id="id32">
<h3>Minor changes<a class="headerlink" href="#id32" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fix compilation flags for OpenMP</p></li>
<li><p>Minor corrections in the documentation.</p></li>
</ul>
</section>
</section>
<section id="new-in-version-1-0-2019-03-14">
<h2>New in version 1.0 (2019-03-14)<a class="headerlink" href="#new-in-version-1-0-2019-03-14" title="Link to this heading">¶</a></h2>
<section id="id33">
<h3>Major changes<a class="headerlink" href="#id33" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>The <code class="code docutils literal notranslate"><span class="pre">angle</span></code> parameter has been renamed to the more accurate name
<code class="code docutils literal notranslate"><span class="pre">wave_direction</span></code>.</p></li>
<li><p>Most of the modules have been reorganized in several packages. See the
<a class="reference internal" href="developer_manual/overview.html"><span class="doc">Overview of the modules</span></a> for some details.</p></li>
<li><p>Test compatibility of the code with Python 3.7 and numpy 1.16.</p></li>
<li><p>Remove a couple of unmaintained or unfinished submodules.</p></li>
</ul>
<section id="id34">
<h4>Minor changes<a class="headerlink" href="#id34" title="Link to this heading">¶</a></h4>
</section>
</section>
<section id="general">
<h3>General<a class="headerlink" href="#general" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Many improvements of the documentation.</p></li>
<li><p>Reorganization of some of the tests.</p></li>
<li><p>Various small performance improvement.</p></li>
</ul>
</section>
<section id="mesh-and-bodies">
<h3>Mesh and bodies<a class="headerlink" href="#mesh-and-bodies" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Rename <code class="code docutils literal notranslate"><span class="pre">center</span></code> into either <code class="code docutils literal notranslate"><span class="pre">geometric_center</span></code> or
<code class="code docutils literal notranslate"><span class="pre">center_of_mass</span></code> depending of the case.</p></li>
<li><p>New method for geometric bodies <code class="code docutils literal notranslate"><span class="pre">rotate_around_center_to_align_vectors</span></code>
replacing <code class="code docutils literal notranslate"><span class="pre">rotate_to_align_axes</span></code>.</p></li>
<li><p>Add methods <code class="code docutils literal notranslate"><span class="pre">sliced_by_plane</span></code> and <code class="code docutils literal notranslate"><span class="pre">minced</span></code> for hierarchical
decomposition of the mesh.</p></li>
<li><p>Symmetric meshes classes have been renamed:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ReflectionSymmetry</span> <span class="o">-&gt;</span> <span class="n">ReflectionSymmetricMesh</span>
<span class="n">etc</span><span class="o">.</span>
</pre></div>
</div>
</li>
<li><p>Plane are now oriented: they are equal only if their normal point in the same
direction.</p></li>
</ul>
</section>
<section id="solver">
<h3>Solver<a class="headerlink" href="#solver" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Store solver settings in output dataset.</p></li>
<li><p>Rename setting <code class="code docutils literal notranslate"><span class="pre">use_symmetries</span></code> into <code class="code docutils literal notranslate"><span class="pre">hierarchical_toeplitz_matrices</span></code>.</p></li>
<li><p>Fix bugs and improve implementation of the Adaptive Cross Approximation.</p></li>
</ul>
</section>
</section>
<section id="new-in-version-0-6-2019-02-11">
<h2>New in version 0.6 (2019-02-11)<a class="headerlink" href="#new-in-version-0-6-2019-02-11" title="Link to this heading">¶</a></h2>
<section id="id35">
<h3>Major changes<a class="headerlink" href="#id35" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Full rewrite of the matrices and linear solvers implementation.
All the relevant code is now in the submodule <code class="code docutils literal notranslate"><span class="pre">capytaine.matrices</span></code>.</p></li>
<li><p>Refactored implementation of block Toeplitz matrices, block symmetric Toeplitz
matrices and block circulant matrices.
Refactoring of the block diagonalization of block circulant matrices through
FFT.</p></li>
<li><p>Low rank approximation of the matrices with Adaptive Cross Approximation for
the use of hierarchical matrices.</p></li>
<li><p>Option to solve the linear system with GMRES instead of a direct solver.</p></li>
<li><p>Refactoring of the 3D animation module for animation of the body motions,
animated colormap of the pressure, free-surface elevation and export as a
video. See cookbook for an example of the new API.</p></li>
</ul>
</section>
<section id="id36">
<h3>Minor changes<a class="headerlink" href="#id36" title="Link to this heading">¶</a></h3>
<section id="id37">
<h4>General<a class="headerlink" href="#id37" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Reorganization of the <code class="code docutils literal notranslate"><span class="pre">pytest</span></code> directory.</p></li>
<li><p>Add an experimental <code class="code docutils literal notranslate"><span class="pre">capytaine.tools.rao</span></code> module to compute Response Amplitude
Operators.</p></li>
<li><p>Various bug fixes and improvements of the documentation.</p></li>
</ul>
</section>
<section id="id38">
<h4>Solver<a class="headerlink" href="#id38" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>More options to set the behavior of the solver at run time <code class="code docutils literal notranslate"><span class="pre">Nemoh</span></code> (use
of symmetries, use of caching, choice of the linear solver, …).
See its docstring for details.</p></li>
<li><p>Change of default behavior: the solver stores the details in the <code class="code docutils literal notranslate"><span class="pre">Result</span></code>
container when using <code class="code docutils literal notranslate"><span class="pre">solve</span></code>, not when using <code class="code docutils literal notranslate"><span class="pre">solve_all</span></code> or
<code class="code docutils literal notranslate"><span class="pre">fill_dataset</span></code>.</p></li>
<li><p>The water density can be specified in the test matrix when using
<code class="code docutils literal notranslate"><span class="pre">fill_dataset</span></code>.</p></li>
<li><p>Function <code class="code docutils literal notranslate"><span class="pre">kochin_dataset</span></code> to build a xarray of Kochin function.</p></li>
<li><p>Add the option <code class="code docutils literal notranslate"><span class="pre">chunk_size</span></code> to the computation of the free surface
elevation in order to limit the RAM consumption.</p></li>
<li><p>Minor refactoring of the solver and the computation of the Green function.</p></li>
</ul>
</section>
<section id="meshes-and-bodies">
<h4>Meshes and bodies<a class="headerlink" href="#meshes-and-bodies" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>CollectionOfMeshes is not a subclass of Tuple anymore.</p></li>
<li><p>New method <code class="code docutils literal notranslate"><span class="pre">assemble_regular_array</span></code> to build an array of identical bodies.</p></li>
<li><p>Harmonize naming of functions that are not in-place: <code class="code docutils literal notranslate"><span class="pre">symmetrize</span> <span class="pre">-&gt;</span> <span class="pre">symmetrized</span></code>, <code class="code docutils literal notranslate"><span class="pre">merge</span> <span class="pre">-&gt;</span> <span class="pre">merged</span></code></p></li>
<li><p>Refactoring of the internals of the mesh clipper. New <code class="code docutils literal notranslate"><span class="pre">clip</span></code> and <code class="code docutils literal notranslate"><span class="pre">clipped</span></code> methods for meshes and bodies.
When a body is clipped with <code class="code docutils literal notranslate"><span class="pre">clip</span></code> or <code class="code docutils literal notranslate"><span class="pre">keep_immersed_part</span></code>, the dofs are updated.</p></li>
<li><p>Change naming of dof when bodies are joined: <code class="code docutils literal notranslate"><span class="pre">body_name__dof_name</span></code> instead of <code class="code docutils literal notranslate"><span class="pre">body_name_dof_name</span></code>.</p></li>
<li><p>The combination of bodies with <code class="code docutils literal notranslate"><span class="pre">+</span></code> is associative with respect to the
names of the dofs.</p></li>
<li><p>Minor improvements of meshes and bodies <code class="code docutils literal notranslate"><span class="pre">repr</span></code>.</p></li>
</ul>
</section>
</section>
</section>
<section id="new-in-version-0-5-1-2018-10-17">
<h2>New in version 0.5.1 (2018-10-17)<a class="headerlink" href="#new-in-version-0-5-1-2018-10-17" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Minor bugs fixes.</p></li>
<li><p>Small performance improvements.</p></li>
<li><p>Update documentation.</p></li>
</ul>
</section>
<section id="new-in-version-0-5-2018-09-18">
<h2>New in version 0.5 (2018-09-18)<a class="headerlink" href="#new-in-version-0-5-2018-09-18" title="Link to this heading">¶</a></h2>
<section id="id39">
<h3>Major changes<a class="headerlink" href="#id39" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Experimental OpenMP parallelization of the computation of the influence matrices.
The parallelization in <code class="code docutils literal notranslate"><span class="pre">solve_all</span></code> has been removed.</p></li>
<li><p>Integration of a refactored subset of Meshmagick into Capytaine as the <code class="code docutils literal notranslate"><span class="pre">mesh</span></code> submodule.
Meshmagick is not a dependency any more.</p></li>
<li><p>Reorganization of the submodules:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">capytaine</span><span class="o">.</span><span class="n">mesh_collection</span>                  <span class="o">-&gt;</span> <span class="n">capytaine</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">meshes_collection</span>
<span class="n">capytaine</span><span class="o">.</span><span class="n">symmetries</span>                       <span class="o">-&gt;</span> <span class="n">capytaine</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">symmetries</span>
<span class="n">capytaine</span><span class="o">.</span><span class="n">cli</span>                              <span class="o">-&gt;</span> <span class="n">capytaine</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cli</span>
<span class="n">capytaine</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">vtk</span>                        <span class="o">-&gt;</span> <span class="n">capytaine</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">vtk</span>
<span class="n">capytaine</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">mpl_free_surface_animation</span> <span class="o">-&gt;</span> <span class="n">capytaine</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">mpl_free_surface_animation</span>
<span class="n">capytaine</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">import_export</span>              <span class="o">-&gt;</span> <span class="n">capytaine</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">legacy</span>
<span class="n">capytaine</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">bemio</span>                      <span class="o">-&gt;</span> <span class="n">capytaine</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">bemio</span>
<span class="n">meshmagick</span><span class="o">.</span><span class="n">mmio</span>                            <span class="o">-&gt;</span> <span class="n">capytaine</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">mesh_loaders</span> <span class="ow">and</span> <span class="n">capytaine</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">mesh_writers</span>
</pre></div>
</div>
</section>
<section id="id40">
<h3>Minor changes<a class="headerlink" href="#id40" title="Link to this heading">¶</a></h3>
<section id="id41">
<h4>Solver<a class="headerlink" href="#id41" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Reorganization of the internals of the solver <code class="code docutils literal notranslate"><span class="pre">Nemoh.py</span></code> and <code class="code docutils literal notranslate"><span class="pre">NemohCore</span></code>.
The initialization options <code class="code docutils literal notranslate"><span class="pre">keep_matrices</span></code> and <code class="code docutils literal notranslate"><span class="pre">max_stored_exponential_decompositions</span></code> have been removed.
The former has been replaced by a <code class="code docutils literal notranslate"><span class="pre">matrix_cache_size</span></code> optional argument (default value: 1).</p></li>
<li><p>Support of <span class="math notranslate nohighlight">\(\omega=0\)</span> and <span class="math notranslate nohighlight">\(\omega=\infty\)</span> in the infinite depth case.</p></li>
<li><p>The wavenumber is not computed in Fortran anymore.</p></li>
</ul>
</section>
<section id="outputs">
<h4>Outputs<a class="headerlink" href="#outputs" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Some body properties are stored in xarray dataset if they are available.
New functions <code class="code docutils literal notranslate"><span class="pre">add_wavenumber_coords</span></code> and <code class="code docutils literal notranslate"><span class="pre">kochin_data_array</span></code> allow the storage of wavenumbers and Kochin function in the dataset.</p></li>
<li><p>New functions <code class="code docutils literal notranslate"><span class="pre">separate_complex_values</span></code> and <code class="code docutils literal notranslate"><span class="pre">merge_complex_values</span></code>
in <code class="code docutils literal notranslate"><span class="pre">capytaine.io.xarray</span></code> to better handle complex values when saving
datasets.</p></li>
<li><p>New function <code class="code docutils literal notranslate"><span class="pre">problems_from_dataset</span></code> to generate a list of problems from the coordinates of
a xarray dataset.
New method <code class="code docutils literal notranslate"><span class="pre">fill_dataset</span></code> in <code class="code docutils literal notranslate"><span class="pre">capytaine.Nemoh.Nemoh</span></code> using the above.</p></li>
<li><p>New function <code class="code docutils literal notranslate"><span class="pre">write_dataset_as_tecplot_files()</span></code> in <code class="code docutils literal notranslate"><span class="pre">capytaine.tools</span></code> for legacy Tecplot output.</p></li>
</ul>
</section>
<section id="meshes">
<h4>Meshes<a class="headerlink" href="#meshes" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Refactoring of the transformation methods (<code class="code docutils literal notranslate"><span class="pre">translate</span></code>, <code class="code docutils literal notranslate"><span class="pre">rotate</span></code>, <code class="code docutils literal notranslate"><span class="pre">mirror</span></code>, …).</p>
<ul>
<li><p>They are still in place by default, although they now return a reference to the modified object.</p></li>
<li><p>They can return a new object by passing the argument <code class="code docutils literal notranslate"><span class="pre">inplace=False</span></code> or by using the
variants <code class="code docutils literal notranslate"><span class="pre">translated</span></code>, <code class="code docutils literal notranslate"><span class="pre">rotated</span></code>, <code class="code docutils literal notranslate"><span class="pre">mirrored</span></code>.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">rotate</span></code> and <code class="code docutils literal notranslate"><span class="pre">rotated</span></code> requires an <code class="code docutils literal notranslate"><span class="pre">Axis</span></code> object as argument. Old behavior
can be found in <code class="code docutils literal notranslate"><span class="pre">rotate_angles</span></code> and <code class="code docutils literal notranslate"><span class="pre">rotated_angles</span></code>.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">get_immersed_part</span></code> is inplace by default. Use <code class="code docutils literal notranslate"><span class="pre">inplace=False</span></code> to return a new
object.</p></li>
</ul>
</li>
<li><p><code class="code docutils literal notranslate"><span class="pre">add_rotation_dof</span></code> now requires an Axis object.</p></li>
<li><p>New method <code class="code docutils literal notranslate"><span class="pre">tree_view()</span></code> for meshes to display the structure of hierarchical collections of meshes.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">CollectionOfMeshes</span></code> and <code class="code docutils literal notranslate"><span class="pre">SymmetricBodies</span></code> are now subclasses from <code class="code docutils literal notranslate"><span class="pre">tuple</span></code>.
New methods <code class="code docutils literal notranslate"><span class="pre">join_meshes</span></code> to merge several symmetric bodies with the same symmetries as a
single symmetric body.</p></li>
<li><p>Various improvements in <code class="code docutils literal notranslate"><span class="pre">geometric_bodies</span></code> submodule, especially for <code class="code docutils literal notranslate"><span class="pre">Rectangle</span></code> and <code class="code docutils literal notranslate"><span class="pre">RectangularParallelepiped</span></code>.
They can now be generated with reflections symmetries instead of translation symmetries.
New <code class="code docutils literal notranslate"><span class="pre">VerticalCylinder</span></code> class.</p></li>
<li><p>Refactored mesh objects can be checked for equality and are hashable.
The method is experimental and can be improved.</p></li>
</ul>
</section>
</section>
</section>
<section id="new-in-version-0-4-2018-08-04">
<h2>New in version 0.4 (2018-08-04)<a class="headerlink" href="#new-in-version-0-4-2018-08-04" title="Link to this heading">¶</a></h2>
<section id="id42">
<h3>New features<a class="headerlink" href="#id42" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Documentation and new usage examples.</p></li>
<li><p>Computation of Kochin coefficients.</p></li>
<li><p>Cleverer helper functions to define degrees of freedom.</p></li>
</ul>
</section>
<section id="id43">
<h3>Major changes<a class="headerlink" href="#id43" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Backward-incompatible change of the way the degrees of freedom are stored.</p></li>
</ul>
</section>
<section id="id44">
<h3>Minor changes<a class="headerlink" href="#id44" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Double precision computations.</p></li>
<li><p>Improvement of <code class="code docutils literal notranslate"><span class="pre">assemble_dataset</span></code> for parametric studies.</p></li>
<li><p>Support clipping of collections of meshes.</p></li>
<li><p>Fixes in geometrical bodies generation.</p></li>
</ul>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>

      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">capytaine</a></h1>



<p class="blurb">a Python-based linear potential flow BEM solver</p>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="features.html">Features</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="user_manual/index.html">User manual</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="examples/index.html">Example scripts</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="developer_manual/index.html">Developer manual</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="theory_manual/index.html">Theory manual</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="citing.html">Citing</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Changelog</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="citing.html" title="previous chapter">Citing</a></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024, Matthieu Ancellin.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 9.1.0</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/changelog.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>